<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=cover">
<meta name="theme-color" content="#0d3535">
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
<meta name="apple-mobile-web-app-title" content="Noor">
<meta name="description" content="AI-Powered Quranic Guidance - Find Ayat by emotion, search Hadith, 99 Names, Prayer Times & Dhikr">
<title>Noor ‚Äî ŸÜŸàÿ± | AI Quranic Guidance</title>

<!-- Apple touch icons -->
<link rel="apple-touch-icon" href="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAMAAAADACAYAAABS3GwHAAAFnElEQVR4nO3cy3HbQBBF0WeXt14rBgWgDJSR4lBGykMxKAp7NWVKpkh85tPd7561yyaJvpgBCPrH76enPwJM/Vz9AoCVCADWCADWCADWCADWCADWCADWCADWCADWCADWCADWCADWCADWCADWCADWCADWCADWCADWCADWCADWCADWCADWCADWfq1+AdW9vTw87vnzz68f76NeC/5HAJ3sHfRLDP06BHDQmYGXGPooCGCjswPfMPixEMANDH19BHAFg++DAC70GnyJ4c+CAMTgO7MOgMGHZQA9B19i+DOzCqD34Et6f3796PxXYiaLADoP/rskMfg1lA+g0/B/2uIw/HWUDqDD8P+3t2f4aykZwMnB//aCluGvp1wAJ4b/5p0chr+mUgGMGH4Gv7YSAXDWx1HpAzg4/HxxBUnJfxM8cvg5+3tIGwDDjx5SboEODP/mLQ/D7yXdCsDwo6dUATD86C1NACOHH75SBDB6+Dn7+0p5EXzD7rM+w+8t/Aqw4+zP8GO30AEM+AUX8EnYAHYOP2d/HBI2gB2424PDQgYwct8vcfbHP+ECYPgxU6gARg8/8FWoAEbj7I+vwgTA2R8rhAlgI4YfXYUIYOPZ/9Tws/3BNSECAFZZHgBnf6y0PABgpaUBzDj7A7dEXwFODz/bH9yyLAAedUYEkVcAtj4YbkkAs87+bH9wT+QVABhuegDc+UEkrACwFjGALmd/9v/YYmoA3PpENBFXAGCaaAFw8YupogUATDUtAPb/iCjSCtBt+8MdIGwVKQBgOgKAtSkBsP9HVFFWAG5/YokoAQBLEACsEQCsEQCsDQ+AO0CILMIKwB0gLBMhAGAZAoA1AoA1AoC1kgG8vTysfglIomQAwFYEAGsEAGsEAGsEAGtlA+BOELYoGwCwBQHAGgHAWoQAhv1egOsA3DM8gOfXD573R1gRVgBgmfIBsA3CLeUDAG4hAFiLEsDQ/zmCbRC+MyUA7gQhqigrwHCsArjGJgDgmkgB8D/IYbppAUS4DmAbhK8irQDAdNECGL4NYhXApWgBTEEEaKYGEOE6ALgUcQWYcjeIVQBSzACAaaYHsHEbxCqAKexXACLwtiSAaBfDROAr8grAoxEYblkArAKIIPIKIE1eBYjAz9IAIt0RaojAS/QVYAki8LE8gIirgEQELpYHAKwUIgBWAawSIoAdlkRACHWFCWDH9wJLviAjgprCBJABEdQTKoDoq4BEBNWECkAiAsz14/fT05/VL+Kat5eHrQO+9Jmi59ePlf88Tgq3Ahyw9KlRVoNtdpzQpgobwM6nRYkgsLeXh8doT/82YbdATZatUMOW6J927KIOv5QgAClfBJJ3CJfHK/LwS4G3QAc9KsgvyVy3RVH3+t9JsQJIhz7YMGceh9Xg2vGJfvaXEgUg5Y6gqRTDreORYfilZAFINSKQcodw7xhkGX4pYQBSnQiaDDFs/cwzDb+UNADp8MVW+IMTKYa9n3G24ZcSByDVjeDSzCAu7lzt/lwzDr+UPADJI4JrzoRx5xatzfBLBQKQTt17TnvgBjj0GWYefqlIAA0hHGI5+E2pb4JPHJRU3152ZD38UrEApNMRuIRw+L1WGn6p2Bboqw7PpVQ62Kc+i2qD35RbAS51OGgVVoXT76Hq8EvFV4Cm8xOKGYah2/utPPySSQDNgEd1Iw1H1/dWffAbqwCagc+szxyaIe/BZfAbywCaiT/eODNUU16j2+A31gE02X7F1JPr4DcEcMEpBPfBbwjgisohMPifEcANlUJg8K8jgI0yxsDQ30cAB0UMgoHfjwA6WREEA38eAQzWIwwGfRwCgLXST4MC9xAArBEArBEArBEArBEArBEArBEArBEArBEArBEArBEArBEArBEArBEArBEArBEArBEArBEArBEArBEArBEArP0FHT28/yVDStkAAAAASUVORK5CYII=">
<link rel="apple-touch-icon" sizes="152x152" href="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAJgAAACYCAYAAAAYwiAhAAAEbklEQVR4nO3dzVFjMRBF4csUW9bEQABkQEbEQUbkQQxEwWxGlIfxwPvRVXdL51tTxUM+tMSzjW/uHh8/BJj8ir4AzI3AYEVgsCIwWBEYrAgMVgQGKwKDFYHBisBgRWCwIjBYERisCAxWBAYrAoMVgcGKwGB1G30BGb0+3z9s/dqnl/c357VUt3xge2JqiGq75QI7EpREVEctEdjRqCTCOmvawM5EJRFWL9MFRli5TBMYYeVUPrCzYUnE5VQ6MKZWfiUD6zC13p5e3rtcC75XLrATcX1OK+Iap0xghFVTicAOxvXX+Yq4YqQP7EBc/xzciStO6sB2xnX1L0LiipUysB5TSyKuDNIF1mNqScSVRapXtPaKC3mkCaxnXEyvPNJtkT/4cWoRVy4pJtjG6UVcBYUH1isu5BQaWM+4mF45hQVGXGsI3yK/wbY4gZDAerwKtWF65TY8MA71a8m4RW6Oi+mV39DANkwvJtdkhgXW89wlMb2qyLRFMr0mNCSw3lsj06uOTBMME7IHxsF+beUmGNtjLdbAmF4oN8FQS2Rgu6cX22M9tsB631hFTVETjLPXIjiDwcoSGNsjmogJdmh75IBfE1skrAgMVt0D++H8xV+Pi2GCwYrAYEVgsCIwWHUNjAM+vmKCwYrAYEVgsCIwWBEYrAgMVmUCe32+j74EHFAmMNREYLAiMFgRGKxKBcZBv55SgaEeAoNV18CeXt6/e0lOl/dKsk3WwgSDFYHBqmRgbJN1lAwMdXQPbMRBX2KKVcEEg1XpwJhi+UUExv8OW4glsB/OYV0xxXIrvUUiv6jAum6TTLG8bIGN3CYlIssqcovksL+Aqc5gTLF8rIFt2Ca7TzEiy2WqCdYQWR72wCKmGPKYcoJJTLEshgQWNcWILF6mCUZkExoW2Ogbr5eILM7QCRZ54CeyGJm2yMYa2eqhjf6oxeGBbdwqrYuwamSvz/cPo48qIRMs8jzWrBZZRFySdDv6G+7wIPOHN7TIZv6w0+hPHw47g2XYKptZp9llXFG7xs3d4+NHxDduNv6GDVucGabZ1zWNPJKEBybli0yqGdq1dYw+76YITMoZmVQjtP+tXXRcUu5D/jVtIYe/ayljaNEH+C3STDBp94KF/XZGxrZ1jTJMLylZYFKdyJoRsf2ZopvXJUtcUsLApEOjP82CSueiu3LLZNdaZIpLShpYU22aGZScWpcyPtn9aeeiPWiel1/v+lmyxiUlD0w6tHiVQ9t97ZnjkgoEJh1exEqhHbrW7HFJyc9g15y495PxwTj0s1QIqykXmNTlBmPkA3Tq2ivFJRUNrOl0J3vEA3b6OquF1ZQOTLI9XXLmwex+PVXjkiYIrKnwvNxelcNqpgmsmSG0GcJqpgusqRjaTGE10wZ2KXNsM0Z1aYnALmWIbfaoLi0X2FcjglspqK+WD+yaM9GtHNM1BAarEk92oy4CgxWBwYrAYEVgsCIwWBEYrAgMVgQGKwKDFYHBisBgRWCwIjBYERisCAxWBAar38Yca/OxkObCAAAAAElFTkSuQmCC">
<link rel="apple-touch-icon" sizes="144x144" href="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAJAAAACQCAYAAADnRuK4AAAEGUlEQVR4nO3dzVHjUBBF4cvUbFkTAwE4AzIiDjIiD2IgCtiMqjQqgyX1e/3n821ZjNCc6teyXfjh8XL5EnDSn+gLQG0EBBMCggkBwYSAYEJAMCEgmBAQTAgIJgQEEwKCCQHBhIBgQkAwISCYEBBMCAgmf6MvIIP316fn337+8vb54XUt1dxdQLdiWSOc29oHdCQYiWiOahnQ0WgkwjmrVUCE469FQGfCkYhnhNIBEU68kgGdDUcintFKBWQI50OSXt4+B14NpEIBnYyHcCYrEdDBeP47oohnrtQBWcKRiMdD2oAOxHN1KSYeHynfjSeeOtJNoJ3x/PgoTjy+Uk0g4qknTUDWeBAjxRG2I56b4TB9YoRPIOKpLTQg4qkvLKAR8SBeSECj4mH6xAvfga4gnkLcA7oxfTi2inENyPJBsDWmTx5uAbE095RlB9odD9MnF5eA2Hv6yjKBUNT0gEZOH46vfCInEEdXA1MDGvXYLjF9soqaQEyfJqYFNHL6IK+ICcT0aWRKQKOnD/tPXrwOBBPvgDi+mhkeEMvzffGcQEyfhtLvQCzQuaUPCLkNDYj95/54TSD2n6Y4wmBCQDAhIJgMC4gF+j55TCAW6MY4wmBCQDAhIJgQEEzSB/T++hR9CfhF+oCQGwHBhIBgQkAwKREQi3ReJQJCXgQEE4+AeJe+sWEBzf46bfagnDjCYFIqIKZQPqUCQj5eAbFINzU0oNmLtMQxlg1HGExKBsQUysMzIPaghoYH5LEHSUyhLLyPsKFTiIjildyBkMeUgLyOMYkpFC1iAg1fpokozrSAPKeQRERRonYgHumbmBoQU6i/yKewKVOIiHxND+jGFCKi4tq+DkREPlwCiphCEhF5yDKBiKioh8fL5cvrH9vxhzinPrXxvRvjuU4g78f6LabReO5HWNQ+tCCisbLsQGsuEXUL6f316Tnib3WHBLTjKHO5EV0iWsKJWBFcl+it6KV6reKCvb5/UftlaEBSroikGiFt71nkw0l4QFK+iBaZYvrpHkU/2aYISNr9ZS13F9Jv9yU6HilRQFLuiNZmBvVvsb95HzLEIyULSKoT0daZqH54CiwTj5QwIOnQd4+luZED7PqdM8Uj5Xwh8chN6vLR2JLxSEkDkg5HVDWk3deeMR4p6RG2dfAl+pQ3emP375M1nEWJgKTT38ma6eYfvv7s8UiJj7Ctkzczw/F26hoqxCMVmkBrA951nvmfY7q2KuEsSga0GPzxhbMTbohq4SxKB7So/J31VcNZtAhoUSmk6uEsWgW0yBxSl3AWLQNayxBTt2jW2ge05RFU52C27i6gayxR3VMs1xAQTMq8Eo2cCAgmBAQTAoIJAcGEgGBCQDAhIJgQEEwICCYEBBMCggkBwYSAYEJAMCEgmHwDFH1Q9nQCFZoAAAAASUVORK5CYII=">

<!-- Manifest inline via JS -->
<script>
  const manifestData = {
    name: "Noor ‚Äî AI Quranic Guidance",
    short_name: "Noor ŸÜŸàÿ±",
    description: "Find the perfect Ayat for your emotions. AI-powered Quran, Hadith, 99 Names, Prayer Times & Dhikr.",
    start_url: "./",
    display: "standalone",
    background_color: "#071e1e",
    theme_color: "#0d3535",
    orientation: "portrait-primary",
    categories: ["lifestyle", "religion", "education"],
    icons: [
    {"src": "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEgAAABICAYAAABV7bNHAAACEUlEQVR4nO2bzXGDMBCFnzO55kwNLsAduCPqcEf04RpcRXKJMgoDfot2VyCx39EHkL95qz+ky9ft9o1glY+9G3B0QhAhBBFCECEEEUIQIQQRQhDhc8+XT+Nwnf92f7yee7RljeqClqQAxxOTqCJoTQpwXDEJV0HvxADHlwM4Cnoj53l/vLxea465oHdiAKAlOYCxoBU5f2XUmhzAcB7UoxzAKEELcv51vq3KAQwSxOS0jkqQRE7L6QEUgs4gB7DrpLsqq5wiQWyGDPSRHqBAUO+d8hxtiS3K6SU9wEZBktLqDU2Cui6tRGy5EsSCZuW1mp6e+h8gEkQJQQSRoDOOXomSBJ1i9EpEiRFCECEEEUIQwVzQNA7Wj9yVSBAhBBFCEKFEEJ1V99QPiQS1cArDC7cS6yVF0QcRxIJmZSZa3feQIvcEtS5JI+gUe0SbBJWOZi2nSFti4hS1KmmzoIUUdS2pKEGaiWNrkqxGsU0d9jQO1UWVfngoFqQptUQtSdM4XEtTf9HeerY6DuPxRTa1TdMlqAXlDckobpCFqLw92oW2iSCAn5MuRSLst1RdrlaZCQL8JAlwu3dmuhZbadQVfsuSxWdb7l+ZJiiHXWpRUu1SnpsgQDz3kPwpyalal1J2FZTwPB3ivR1cRVCOhayae+TVBeVskbXXh4NdBbVAbNoTQhAhBBFCECEEEUIQIQQRfgBN6q5TqAyaqQAAAABJRU5ErkJggg==", "sizes": "72x72", "type": "image/png", "purpose": "any maskable"},
    {"src": "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGAAAABgCAYAAADimHc4AAAClUlEQVR4nO2dwVXDMBBEJzyunKmBAtJBOkod6Sh9pAaqgANPxBDb8Uq7O0o0/8iB2PO1K0fCYve2339B0HhhX8DoSAAZCSAjAWQkgIwEkJEAMhJARgLISAAZCSDzyr4AC+fj+8fczw+nz0v2tXjRrYClsAuPHPqUrgTcCx14nuALXQgYMfgCVcCW4IHnDR8gCVDwV9IFbAj/AgCH02fC1fBJFXAn/N/RPkr4QJKArcEDY4UPJHwTVvjrhFbASvg3k+uI4QOBFaDwtxEiQOFvx12AJXyRtxw9G/7oox9wFrAw+hX+Cm4CLOGLKy4CrOFr9F/RliSZZgEa/W1EVID6voEmAVvX9cUy3hWwOvrVfm6pFqDR74NnBaj3V6DHUDJVAmraj/r/PF4VoPZTiVoQGQkgIwFkzAJmJmD1/wZUAWQkgIwEkJEAMhJAJk3A+fie9VEPhSqAjASQkQAyqQI0D9xiFjDz4py2JhtQCyKTLkBt6C+qADJeAkzzgKrgSpWAEd5gz4LWglQFP3gKMD+OSkKDALUhH7xbkKrASJMAryoYWULEJFy1NDGqhGYBC1UgCRvp7pvwaBJcBHhWATCWBLcKkIQ6XFtQhITeRHi/mpU1BzRddC8SIt6L20X8H7HII2sYb9pM78d7BSBEABB/blCGiP/3ELH8EiYAyDu8yVNG9gntoQIA26mJXliETOaXxeuMXHgMFwBwJBihhA8kCSh0KIIWfCF1KeLOTX0g72+MVj8rc68jtQIKhudpzyC6PLGdIqBQ8cXGEo7pd7N2+KgCCsyTV9hbq10IKGSKYAdf6ErAlAgZvYQ+pVsBc1ik9Bj2HA8l4BnpbktyNCSAjASQkQAyEkBGAshIABkJICMBZCSAzDdvwODhmaQEPgAAAABJRU5ErkJggg==", "sizes": "96x96", "type": "image/png", "purpose": "any maskable"},
    {"src": "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAIAAAACACAYAAADDPmHLAAADrklEQVR4nO2dy1HsMBBFG4ota2KYACYDMiIOMiIPYiAK3kqvzNR8ZEn9c5+zpmpk36Mr2bjsp9fz+VegLM/eAwBfEKA4CFAcBCgOAhQHAYqDAMVBgOIgQHEQoDgIUBwEKA4CFAcBioMAxXnxHoAVXx9vp0d/8/75820xlkgcUoCesBsVQ99yCAH2BN6oHnwjtQAEP086AUZCFyH4W6QRgOB1CC/AaPAihN9DaAGY9fqEFGAw+G8RkffPn8WjOTbhBBgI//9sJ/z9hBJgZ/h/ap7wxwghwEzwIoQ/g7sAO8K/urEj/Dlc/xtI+P64NUBn+Dcv5wh/DS4NQPhxMBeA8GNhKsBs+LCeaI+E3Q2f2b8eMwE6Zj/hO2AiwGz4oIe6ACvCZ/br4b0HYOY7oyrAg9nfFT6zXxc1AWae5AE7vJYAZn8QVARYUf1gg/cm8CbMfhuWC8Dsz0XYBgAbLAXonv3Uvx1LBeDSLx9WDcDaH5RlAjD7c2LRAMz+wIS7CmADaEs4AcCWJQLcWf+p/+DQAMVBgOIgQHEQoDjTArABzA0NUBwEKA4CFAcBioMAxQknwNfHm/cQShFOALAFAYqDAMVBgOKEFICNoB0hBQA7pgW4825+nhJOQNgGYBmwIawAYENoAWgBfUILAPosEUBzI0gL6EIDFCeFALSAHhYCcD8gMMsE0P5YIy2gg9USsKQFkGA9SwXgk635sNwE0gIBSXEVcAkSrGO5AA+WgWVXBEiwhpQN0ECCeVQEsGoBESSYxasBkCAIagJYXxIiwRiqDWC5FIggwQjem0AkeID2G1ifXs/nX80fEPH7bmDml062c6a9lJo0QMdBqFietQ2swhcxaoCG5xdEM7TB9vxYbaJfLH5kBydRkqC1QUQRPN+0btoAInE+IR9BhFvnwvIS2lwAkTgSiPiIcO/4re+fuAggEkuChqYMPcfr8TyFmwAiu9Y+twdNRqS4uProOkavh2lcBRDJIcEEocMX8b8TuOfgT5LnCePusXo/RufeAFt2Xg5FbITu8XsH33BvgC07T0qkRtg1lijhiwQTQGTo5HiKsPu3I4UvEmwJuGTiDpnmSR4aU7TgG6EFEFl6m3QkgCW/HTV8kQQCNDJ+mTRy8I00AjQyiJAh+EY6AbZEkiFT6FtSC9DwFCFr8I1DCHCJphDZA7/kkAJcY0SKo4V9jTICwHXC3QkEWxCgOAhQHAQoDgIUBwGKgwDFQYDiIEBxEKA4CFAcBCgOAhQHAYrzD/uQMv0JX86hAAAAAElFTkSuQmCC", "sizes": "128x128", "type": "image/png", "purpose": "any maskable"},
    {"src": "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAJAAAACQCAYAAADnRuK4AAAEGUlEQVR4nO3dzVHjUBBF4cvUbFkTAwE4AzIiDjIiD2IgCtiMqjQqgyX1e/3n821ZjNCc6teyXfjh8XL5EnDSn+gLQG0EBBMCggkBwYSAYEJAMCEgmBAQTAgIJgQEEwKCCQHBhIBgQkAwISCYEBBMCAgmf6MvIIP316fn337+8vb54XUt1dxdQLdiWSOc29oHdCQYiWiOahnQ0WgkwjmrVUCE469FQGfCkYhnhNIBEU68kgGdDUcintFKBWQI50OSXt4+B14NpEIBnYyHcCYrEdDBeP47oohnrtQBWcKRiMdD2oAOxHN1KSYeHynfjSeeOtJNoJ3x/PgoTjy+Uk0g4qknTUDWeBAjxRG2I56b4TB9YoRPIOKpLTQg4qkvLKAR8SBeSECj4mH6xAvfga4gnkLcA7oxfTi2inENyPJBsDWmTx5uAbE095RlB9odD9MnF5eA2Hv6yjKBUNT0gEZOH46vfCInEEdXA1MDGvXYLjF9soqaQEyfJqYFNHL6IK+ICcT0aWRKQKOnD/tPXrwOBBPvgDi+mhkeEMvzffGcQEyfhtLvQCzQuaUPCLkNDYj95/54TSD2n6Y4wmBCQDAhIJgMC4gF+j55TCAW6MY4wmBCQDAhIJgQEEzSB/T++hR9CfhF+oCQGwHBhIBgQkAwKREQi3ReJQJCXgQEE4+AeJe+sWEBzf46bfagnDjCYFIqIKZQPqUCQj5eAbFINzU0oNmLtMQxlg1HGExKBsQUysMzIPaghoYH5LEHSUyhLLyPsKFTiIjildyBkMeUgLyOMYkpFC1iAg1fpokozrSAPKeQRERRonYgHumbmBoQU6i/yKewKVOIiHxND+jGFCKi4tq+DkREPlwCiphCEhF5yDKBiKioh8fL5cvrH9vxhzinPrXxvRvjuU4g78f6LabReO5HWNQ+tCCisbLsQGsuEXUL6f316Tnib3WHBLTjKHO5EV0iWsKJWBFcl+it6KV6reKCvb5/UftlaEBSroikGiFt71nkw0l4QFK+iBaZYvrpHkU/2aYISNr9ZS13F9Jv9yU6HilRQFLuiNZmBvVvsb95HzLEIyULSKoT0daZqH54CiwTj5QwIOnQd4+luZED7PqdM8Uj5Xwh8chN6vLR2JLxSEkDkg5HVDWk3deeMR4p6RG2dfAl+pQ3emP375M1nEWJgKTT38ma6eYfvv7s8UiJj7Ctkzczw/F26hoqxCMVmkBrA951nvmfY7q2KuEsSga0GPzxhbMTbohq4SxKB7So/J31VcNZtAhoUSmk6uEsWgW0yBxSl3AWLQNayxBTt2jW2ge05RFU52C27i6gayxR3VMs1xAQTMq8Eo2cCAgmBAQTAoIJAcGEgGBCQDAhIJgQEEwICCYEBBMCggkBwYSAYEJAMCEgmHwDFH1Q9nQCFZoAAAAASUVORK5CYII=", "sizes": "144x144", "type": "image/png", "purpose": "any maskable"},
    {"src": "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAJgAAACYCAYAAAAYwiAhAAAEbklEQVR4nO3dzVFjMRBF4csUW9bEQABkQEbEQUbkQQxEwWxGlIfxwPvRVXdL51tTxUM+tMSzjW/uHh8/BJj8ir4AzI3AYEVgsCIwWBEYrAgMVgQGKwKDFYHBisBgRWCwIjBYERisCAxWBAYrAoMVgcGKwGB1G30BGb0+3z9s/dqnl/c357VUt3xge2JqiGq75QI7EpREVEctEdjRqCTCOmvawM5EJRFWL9MFRli5TBMYYeVUPrCzYUnE5VQ6MKZWfiUD6zC13p5e3rtcC75XLrATcX1OK+Iap0xghFVTicAOxvXX+Yq4YqQP7EBc/xzciStO6sB2xnX1L0LiipUysB5TSyKuDNIF1mNqScSVRapXtPaKC3mkCaxnXEyvPNJtkT/4cWoRVy4pJtjG6UVcBYUH1isu5BQaWM+4mF45hQVGXGsI3yK/wbY4gZDAerwKtWF65TY8MA71a8m4RW6Oi+mV39DANkwvJtdkhgXW89wlMb2qyLRFMr0mNCSw3lsj06uOTBMME7IHxsF+beUmGNtjLdbAmF4oN8FQS2Rgu6cX22M9tsB631hFTVETjLPXIjiDwcoSGNsjmogJdmh75IBfE1skrAgMVt0D++H8xV+Pi2GCwYrAYEVgsCIwWHUNjAM+vmKCwYrAYEVgsCIwWBEYrAgMVmUCe32+j74EHFAmMNREYLAiMFgRGKxKBcZBv55SgaEeAoNV18CeXt6/e0lOl/dKsk3WwgSDFYHBqmRgbJN1lAwMdXQPbMRBX2KKVcEEg1XpwJhi+UUExv8OW4glsB/OYV0xxXIrvUUiv6jAum6TTLG8bIGN3CYlIssqcovksL+Aqc5gTLF8rIFt2Ca7TzEiy2WqCdYQWR72wCKmGPKYcoJJTLEshgQWNcWILF6mCUZkExoW2Ogbr5eILM7QCRZ54CeyGJm2yMYa2eqhjf6oxeGBbdwqrYuwamSvz/cPo48qIRMs8jzWrBZZRFySdDv6G+7wIPOHN7TIZv6w0+hPHw47g2XYKptZp9llXFG7xs3d4+NHxDduNv6GDVucGabZ1zWNPJKEBybli0yqGdq1dYw+76YITMoZmVQjtP+tXXRcUu5D/jVtIYe/ayljaNEH+C3STDBp94KF/XZGxrZ1jTJMLylZYFKdyJoRsf2ZopvXJUtcUsLApEOjP82CSueiu3LLZNdaZIpLShpYU22aGZScWpcyPtn9aeeiPWiel1/v+lmyxiUlD0w6tHiVQ9t97ZnjkgoEJh1exEqhHbrW7HFJyc9g15y495PxwTj0s1QIqykXmNTlBmPkA3Tq2ivFJRUNrOl0J3vEA3b6OquF1ZQOTLI9XXLmwex+PVXjkiYIrKnwvNxelcNqpgmsmSG0GcJqpgusqRjaTGE10wZ2KXNsM0Z1aYnALmWIbfaoLi0X2FcjglspqK+WD+yaM9GtHNM1BAarEk92oy4CgxWBwYrAYEVgsCIwWBEYrAgMVgQGKwKDFYHBisBgRWCwIjBYERisCAxWBAar38Yca/OxkObCAAAAAElFTkSuQmCC", "sizes": "152x152", "type": "image/png", "purpose": "any maskable"},
    {"src": "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAMAAAADACAYAAABS3GwHAAAFnElEQVR4nO3cy3HbQBBF0WeXt14rBgWgDJSR4lBGykMxKAp7NWVKpkh85tPd7561yyaJvpgBCPrH76enPwJM/Vz9AoCVCADWCADWCADWCADWCADWCADWCADWCADWCADWCADWCADWCADWCADWCADWCADWCADWCADWCADWCADWCADWCADWCADWfq1+AdW9vTw87vnzz68f76NeC/5HAJ3sHfRLDP06BHDQmYGXGPooCGCjswPfMPixEMANDH19BHAFg++DAC70GnyJ4c+CAMTgO7MOgMGHZQA9B19i+DOzCqD34Et6f3796PxXYiaLADoP/rskMfg1lA+g0/B/2uIw/HWUDqDD8P+3t2f4aykZwMnB//aCluGvp1wAJ4b/5p0chr+mUgGMGH4Gv7YSAXDWx1HpAzg4/HxxBUnJfxM8cvg5+3tIGwDDjx5SboEODP/mLQ/D7yXdCsDwo6dUATD86C1NACOHH75SBDB6+Dn7+0p5EXzD7rM+w+8t/Aqw4+zP8GO30AEM+AUX8EnYAHYOP2d/HBI2gB2424PDQgYwct8vcfbHP+ECYPgxU6gARg8/8FWoAEbj7I+vwgTA2R8rhAlgI4YfXYUIYOPZ/9Tws/3BNSECAFZZHgBnf6y0PABgpaUBzDj7A7dEXwFODz/bH9yyLAAedUYEkVcAtj4YbkkAs87+bH9wT+QVABhuegDc+UEkrACwFjGALmd/9v/YYmoA3PpENBFXAGCaaAFw8YupogUATDUtAPb/iCjSCtBt+8MdIGwVKQBgOgKAtSkBsP9HVFFWAG5/YokoAQBLEACsEQCsEQCsDQ+AO0CILMIKwB0gLBMhAGAZAoA1AoA1AoC1kgG8vTysfglIomQAwFYEAGsEAGsEAGsEAGtlA+BOELYoGwCwBQHAGgHAWoQAhv1egOsA3DM8gOfXD573R1gRVgBgmfIBsA3CLeUDAG4hAFiLEsDQ/zmCbRC+MyUA7gQhqigrwHCsArjGJgDgmkgB8D/IYbppAUS4DmAbhK8irQDAdNECGL4NYhXApWgBTEEEaKYGEOE6ALgUcQWYcjeIVQBSzACAaaYHsHEbxCqAKexXACLwtiSAaBfDROAr8grAoxEYblkArAKIIPIKIE1eBYjAz9IAIt0RaojAS/QVYAki8LE8gIirgEQELpYHAKwUIgBWAawSIoAdlkRACHWFCWDH9wJLviAjgprCBJABEdQTKoDoq4BEBNWECkAiAsz14/fT05/VL+Kat5eHrQO+9Jmi59ePlf88Tgq3Ahyw9KlRVoNtdpzQpgobwM6nRYkgsLeXh8doT/82YbdATZatUMOW6J927KIOv5QgAClfBJJ3CJfHK/LwS4G3QAc9KsgvyVy3RVH3+t9JsQJIhz7YMGceh9Xg2vGJfvaXEgUg5Y6gqRTDreORYfilZAFINSKQcodw7xhkGX4pYQBSnQiaDDFs/cwzDb+UNADp8MVW+IMTKYa9n3G24ZcSByDVjeDSzCAu7lzt/lwzDr+UPADJI4JrzoRx5xatzfBLBQKQTt17TnvgBjj0GWYefqlIAA0hHGI5+E2pb4JPHJRU3152ZD38UrEApNMRuIRw+L1WGn6p2Bboqw7PpVQ62Kc+i2qD35RbAS51OGgVVoXT76Hq8EvFV4Cm8xOKGYah2/utPPySSQDNgEd1Iw1H1/dWffAbqwCagc+szxyaIe/BZfAbywCaiT/eODNUU16j2+A31gE02X7F1JPr4DcEcMEpBPfBbwjgisohMPifEcANlUJg8K8jgI0yxsDQ30cAB0UMgoHfjwA6WREEA38eAQzWIwwGfRwCgLXST4MC9xAArBEArBEArBEArBEArBEArBEArBEArBEArBEArBEArBEArBEArBEArBEArBEArBEArBEArBEArBEArBEArP0FHT28/yVDStkAAAAASUVORK5CYII=", "sizes": "192x192", "type": "image/png", "purpose": "any maskable"},
    {"src": "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAYAAAAGACAYAAACkx7W/AAAL5UlEQVR4nO3dwZXbNhSGUSQn26xTQwpwB+4odbij9JEaXEWysCeeGUsaUgQJ4P337pOjY5HvA0BJ88vvnz792wCI8+voFwDAGAIAEEoAAEIJAEAoAQAIJQAAoQQAIJQAAIQSAIBQAgAQSgAAQgkAQCgBAAglAAChBAAglAAAhBIAgFACABBKAABCCQBAKAEACCUAAKEEACCUAACEEgCAUAIAEEoAAEIJAEAoAQAIJQAAoQQAIJQAAIQSAIBQAgAQSgAAQgkAQCgBAAglAAChBAAglAAAhBIAgFACABBKAABCCQBAKAEACCUAAKEEACDUb6NfAPT2919//Hnkv//85es/vV4LzEwAWMrR4X6PoU8iAWBKZw361wx90gkAw10x7F8z+OEbAeByVw/81gx9uEUAON2Igf/C4If7BIBTGPowPwGgm5FDvzWDH/YSAA4ZPfRbM/jhWQLAbjMM/dYMfjhKANjM4IdaBICHZhn6Lwx/6EcAuMngh/oEgDcMfsghALTW5hv8rRn+cDYBCGfwQy4BCGXwAwIQZsbB35rhDyMIQIhZB39rhj+MIgDFGfzAPQJQ1MyDvzXDH2YgAAVNPPz/aa21z1++jn4dQBOAUiYd/P+v9A1+mIsAFDHZ8P/peMfwh/kIwOJmH/ytGf4wKwFY2CTD/+HDXMMf5iUACzL4gR4EYDGDh/+mj24a/rAGAVjIwOG/+TP7hj+sQwAWsMLgb83wh9UIwOQGDf/d39I1/GE9AjCxAcP/qZ9nMPxhTQIwoVVW/a0Z/rAyAZjMKqv+1gx/WJ0ATOTi4X/o1zgNf1jfr6NfAN8Y/sDV7AAmcOHwP/wb/IY/1CEAg100/Lv88RXDH2oRgEFWWvW3ZvhDRZ4BDGD4AzOwA7jYSkc+QG12ABdacfhb/UNdAnARwx+YjSOgC1ww/Lsf+Rj+UJ8dwMkMf2BWAnCiFYc/kEMATrLq8Lf6hxyeAazntFW/4Q9Z7ABOcOLq3/AHuhGAzlYc/kAmAeho1eFv9Q+ZBKATwx9YjQB0YPgDKxKAg1Yd/gACMKfTh7/VPyAAB5y0+rfyBy4hAE9aefhb/QOtCcBTDH+gAgGYg2Mf4HICsNMJq//Lhr/VP/CaAOyw8vAHeE8ANrroTzqexuofeE8AxnH0AwwlABs4+gEqEoAPrD78rf6BewTgWlb+wDQE4AEPfoHKBOCO1Y9+AD4iANe4fPhb/QMfEYAbOq/+rfyBKQnAO6uf+7dm9Q9sIwDnsvoHpiUArzj6AZIIwDmGDX/HP8BWAvBdhbN/gD0EoD+rf2AJAtCs/oFMAtCXB7/AMuID0HH1P3T4O/4B9ooPAECq6ABY/QPJogMAkCw2AFVW/wDPig1AJ8OHv+Mf4FmRAfC5f4DQAHQyfPUPcERcACqt/h3/AEfEBaATq39geVEBqLT6BzgqKgCdWP0DJQjAopz/A0fFBKDT8Y/VP1BGTAAAeCsiAB7+AvwsIgCdTHP84/wf6EEAAEKVD4CHvwC3lQ8AALcJwGKc/wO9lA6A4x+A+0oHAID7BOAxq3+grLIB8OUvgMfKBgCAxwTgvumOf3wCCOipZAAc/wB8rGQAAPiYANw23fEPQG8CABCqXACc/wNsUy4AAGwjAD9z/g9EEIBF+A4A0FupADj/B9iuVAAA2E4A3nL+D8QQAIBQAgAQqkwAPAAG2KdMADpw/g9EEQCAUAIAEEoAAEIJAECoEgHwCSCA/UoEoAOfAALiCABAKAEACCUAAKEEACCUAACEEgCAUAIAEGr5AHT4EpjvAACRlg8AAM8RgEX8/dcfo18CUIwAAIQSAIBQAgAQSgAAQgkAQCgBAAglAAChBGAhvgsA9CQAAKEEACCUAACEEgCAUAIAEEoAFuOTQEAvAgAQSgAAQgkAQCgBWJDnAEAPAgAQSgAAQi0fgM9fvv5z8H/xZ5cXArCY5QOQynMA4CgBAAglAAChBAAglAAszHMA4AgBAAglAAChBOCbZb8L4BgIeFaJAHT4MhhAnBIBAGA/ASjAMRDwDAEACCUARdgFAHsJwA/LfhII4BllAuCTQAD7lAkAjoGAfQQAIJQAvLX8cwC7AGArAQAIVSoAHgQDbFcqAHzjGAjYQgB+tvxzAIAtBKAouwDgI+UC4DkAwDblAsAPdgHAIwJwm+cAQHkCUJxdAHBPyQB4DgDwsZIB6KTMMZBdAHCLAIQQAeC9sgFwDATwWNkAdFLmGKg1uwDgLQEACFU6AJ2OgewCgJJKB4DbRABoTQAAYpUPgGOg2+wCgPIBAOA2AdjOLgAoJSIAvhR2nwhArogA8JgIQKaYAHgYDPBWTAB4zC4A8gjAfmV3ASIAWaIC4GHwx0QAckQFoKOyuwAgR1wA7AI+ZhcAGeIC0FHpXYAIQH2RAbAL2EYEoLbIAHRUehfQmghAZbEB6LgLKB8BoKbYALCdXQDUFB0Au4DtRADqiQ4A+4gA1BIfALuAfUQA6ogPQGciACxDAJrvBTxDBGB9AtBfxC6gNRGA1QnAd3YBzxEBWJcAnCNmF9CaCMCqBOCVzrsAEQCmJgDnEgFgWgLwjmcBx4gArEMAbnAUdIwIwBoE4BqRERACmJsA3HHCUVBcBFqzG4CZCcADngf0IQIwJwG4VuQuoDURgBn98vunT/+OfhGz+/uvP3oP7uidxecvX0e/BKDZAWzieUBfdgMwBwEYRwTgJCfs2ktyBLSDo6BzOBKil5d71Ac4trED2MFR0DnsBujB8N9PAHYSgXOIAEcY/s/5bfQLoLX2LQLxF+5LBBwJsZWz/mM8A3jSSRdefAReEwLuuXX/Wf3v5wjoSSddbFYzrzgW4hbDvx87gIPsBK5hN8C9e83wf55nAHPyTOAdzwdyOec/jyOgg05cfbjob3AslOWj4W/1f4wjoE5OXKW4wO+wG6hry/1k+B8nAB2JwBhCUMfWe8jw70MAOhOBcYRgXXvuG8O/HwE4gQiMJQTr2HuvGP59CcBJRGAOYjCfZ+8Nw78/HwNdz8vN42bYwMdH5+HjnPOxAzjRBRe8CDxBDK7T6x6w+j+HAJxMBOYlBOfped0b/ucRgAuIwPzE4LgzrnPD/1wCcJGLzj/dLB2IwXZnXteG//kE4EIisCZB+OH7Q/XTr2PD/xoCcDERWF9SEG789pLhX4gADHDhx+HcSBeoFIQHP7Z3yTVr+F9LAAYRgfpmDsPOX1U1/IsSgMEcCeU6MxAdfzbbkU9hAjABuwEmZNUfwB+EmcCFN8GfzR+a4bHLrhHDfzwBmMTFN4MIcMtl14XhPwcBmMiACAgBrV18LRj+8xCAyQy4OYQg1+XvveE/Fw+BJzbg53PdnDkMfuwAZmY3wAms+vmfAExu0M0jBPUMeU8N/7k5AlrIwL+o5CZe15BrxuBfgx3AQgbeVHYE6xn2nhn+67ADWNAkf1vVTT6f4deF4b8WAViYEPDd8OvA4F+TACxukgi8MASuM837bvivSwCKEIIY07zPBv/6BKCQySLwwpA4brr31fCvQQAKmjQErYnBHlO+hwZ/LQJQ1MQReM0w+WH698vwr0cAilskBC+SBswy74vBX5cAhFgsBC8qDZ7l/v0N/voEIMyiIXhv5sG0/L+vwZ9DAEIVCcE9Zw6wsv9uBn8eAQhXPARsYPDnEgBaa0KQyOBHAHhDCOoz+HkhANwkBPUY/LwnADwkBOsz+LlHANhMDNZh6LOFALCbEMzL4GcPAeAQMRjP0OdZAkA3YnAdQ58eBIBTiEF/hj69CQCnE4PnGfqcSQC4nCDcZ+BzJQFguOQgGPiMJABMqWIUDHtmIwAsZYUwGPSsQgAo58xIGO5UIgAAoX4d/QIAGEMAAEIJAEAoAQAIJQAAoQQAIJQAAIQSAIBQAgAQSgAAQgkAQCgBAAglAAChBAAglAAAhBIAgFACABBKAABCCQBAKAEACCUAAKEEACCUAACEEgCAUAIAEEoAAEIJAEAoAQAIJQAAoQQAIJQAAIQSAIBQAgAQSgAAQgkAQCgBAAglAAChBAAglAAAhBIAgFACABBKAABCCQBAKAEACCUAAKEEACDUf2b3f9LX7PQ7AAAAAElFTkSuQmCC", "sizes": "384x384", "type": "image/png", "purpose": "any maskable"},
    {"src": "data:image/png;base64,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", "sizes": "512x512", "type": "image/png", "purpose": "any maskable"}
    ]
  };
  const blob = new Blob([JSON.stringify(manifestData)], {type: 'application/json'});
  const manifestURL = URL.createObjectURL(blob);
  const link = document.createElement('link');
  link.rel = 'manifest'; link.href = manifestURL;
  document.head.appendChild(link);
</script>

<style>
* { margin: 0; padding: 0; box-sizing: border-box; -webkit-tap-highlight-color: transparent; }
body { font-family: Georgia, serif; background: #071e1e; color: #fdf6e3; overscroll-behavior: none; }
#app { min-height: 100vh; min-height: -webkit-fill-available; }

/* Safe area for notch phones */
.header { padding-top: max(22px, env(safe-area-inset-top)); }
.bottom-nav { padding-bottom: max(12px, env(safe-area-inset-bottom)); }

/* Install Banner */
#installBanner {
  display: none; position: fixed; top: 0; left: 0; right: 0; z-index: 9999;
  background: linear-gradient(135deg, #c9a84c, #a8722a);
  padding: max(14px, env(safe-area-inset-top)) 16px 14px;
  align-items: center; gap: 12px; flex-wrap: wrap;
}
#installBanner.show { display: flex; }
#installBanner p { flex: 1; font-family: sans-serif; font-size: 0.85rem; color: #1a1208; font-weight: 600; }
#installBtn { background: #1a1208; color: #c9a84c; border: none; border-radius: 8px; padding: 8px 16px; font-weight: 800; font-size: 0.82rem; cursor: pointer; font-family: sans-serif; white-space: nowrap; }
#dismissBtn { background: none; border: none; color: rgba(26,18,8,0.6); font-size: 1.2rem; cursor: pointer; padding: 4px; }

/* Offline Banner */
#offlineBanner {
  display: none; position: fixed; bottom: 72px; left: 16px; right: 16px; z-index: 500;
  background: rgba(180,50,50,0.9); border-radius: 10px; padding: 10px 16px;
  font-family: sans-serif; font-size: 0.82rem; color: white; text-align: center;
  backdrop-filter: blur(8px);
}
#offlineBanner.show { display: block; }

/* Update Banner */
#updateBanner {
  display: none; position: fixed; top: 0; left: 0; right: 0; z-index: 9998;
  background: #0d3535; border-bottom: 1px solid rgba(201,168,76,0.3);
  padding: 10px 16px; align-items: center; gap: 10px;
  font-family: sans-serif; font-size: 0.82rem; color: rgba(253,246,227,0.8);
}
#updateBanner.show { display: flex; }
#updateBtn { background: rgba(201,168,76,0.2); border: 1px solid rgba(201,168,76,0.4); color: #c9a84c; border-radius: 6px; padding: 4px 12px; cursor: pointer; font-size: 0.78rem; margin-left: auto; font-family: sans-serif; }

@keyframes spin { to { transform: rotate(360deg); } }
@keyframes floatPulse { 0%,100%{transform:translateY(0) scale(1);box-shadow:0 4px 20px rgba(201,168,76,0.45)} 50%{transform:translateY(-5px) scale(1.06);box-shadow:0 8px 30px rgba(201,168,76,0.72)} }
@keyframes fadeUp { from{opacity:0;transform:translateY(16px)} to{opacity:1;transform:translateY(0)} }
@keyframes slideUp { from{opacity:0;transform:translateY(30px)} to{opacity:1;transform:translateY(0)} }
.fade-up { animation: fadeUp 0.45s ease both; }
input::placeholder, textarea::placeholder { color: rgba(253,246,227,0.26); }
::-webkit-scrollbar { width: 0px; }
button { -webkit-appearance: none; }
input, textarea { -webkit-appearance: none; border-radius: 12px; }
</style>
</head>
<body>

<div id="installBanner">
  <p>üåô Install Noor on your phone for the best experience!</p>
  <button id="installBtn">Install App</button>
  <button id="dismissBtn">‚úï</button>
</div>

<div id="offlineBanner">üì° You're offline ‚Äî some features require internet</div>
<div id="updateBanner"><span>üåô New version of Noor available!</span><button id="updateBtn">Update Now</button></div>

<div id="app"></div>

<script>
// ‚îÄ‚îÄ‚îÄ Service Worker Registration ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
if ('serviceWorker' in navigator) {
  const swCode = `
    const CACHE = 'noor-v1';
    const OFFLINE_ASSETS = ['./', './index.html'];

    self.addEventListener('install', e => {
      e.waitUntil(
        caches.open(CACHE).then(c => c.addAll(OFFLINE_ASSETS)).then(() => self.skipWaiting())
      );
    });

    self.addEventListener('activate', e => {
      e.waitUntil(
        caches.keys().then(keys => Promise.all(
          keys.filter(k => k !== CACHE).map(k => caches.delete(k))
        )).then(() => self.clients.claim())
      );
    });

    self.addEventListener('fetch', e => {
      if (e.request.url.includes('api.anthropic.com') || e.request.url.includes('api.aladhan.com') || e.request.url.includes('islamic.network')) {
        e.respondWith(fetch(e.request).catch(() => new Response(JSON.stringify({error:{message:"You are offline"}}), {headers:{'Content-Type':'application/json'}})));
        return;
      }
      e.respondWith(
        caches.match(e.request).then(r => r || fetch(e.request).then(res => {
          const clone = res.clone();
          caches.open(CACHE).then(c => c.put(e.request, clone));
          return res;
        })).catch(() => caches.match('./'))
      );
    });

    self.addEventListener('message', e => {
      if (e.data === 'skipWaiting') self.skipWaiting();
    });
  `;
  const swBlob = new Blob([swCode], {type: 'application/javascript'});
  const swURL = URL.createObjectURL(swBlob);
  navigator.serviceWorker.register(swURL).then(reg => {
    reg.addEventListener('updatefound', () => {
      const newWorker = reg.installing;
      newWorker.addEventListener('statechange', () => {
        if (newWorker.state === 'installed' && navigator.serviceWorker.controller) {
          document.getElementById('updateBanner').classList.add('show');
        }
      });
    });
  }).catch(err => console.log('SW reg failed:', err));

  document.getElementById('updateBtn').onclick = () => {
    navigator.serviceWorker.ready.then(reg => {
      if (reg.waiting) reg.waiting.postMessage('skipWaiting');
    });
    window.location.reload();
  };
}

// ‚îÄ‚îÄ‚îÄ Install Prompt ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
let deferredPrompt = null;
window.addEventListener('beforeinstallprompt', e => {
  e.preventDefault();
  deferredPrompt = e;
  if (!localStorage.getItem('noor_install_dismissed')) {
    setTimeout(() => document.getElementById('installBanner').classList.add('show'), 2000);
  }
});

document.getElementById('installBtn').onclick = async () => {
  if (deferredPrompt) {
    deferredPrompt.prompt();
    const { outcome } = await deferredPrompt.userChoice;
    if (outcome === 'accepted') localStorage.setItem('noor_installed', '1');
    deferredPrompt = null;
  }
  document.getElementById('installBanner').classList.remove('show');
};

document.getElementById('dismissBtn').onclick = () => {
  document.getElementById('installBanner').classList.remove('show');
  localStorage.setItem('noor_install_dismissed', '1');
};

// ‚îÄ‚îÄ‚îÄ Offline Detection ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
function updateOnlineStatus() {
  const banner = document.getElementById('offlineBanner');
  if (!navigator.onLine) banner.classList.add('show');
  else banner.classList.remove('show');
}
window.addEventListener('online', updateOnlineStatus);
window.addEventListener('offline', updateOnlineStatus);

// ‚îÄ‚îÄ‚îÄ APP DATA ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
const EMOTIONS = [
  {emoji:"üò¢",label:"Sad",key:"sad"},{emoji:"üò∞",label:"Anxious",key:"anxious"},
  {emoji:"ü§≤",label:"Grateful",key:"grateful"},{emoji:"üå´Ô∏è",label:"Lost",key:"lost"},
  {emoji:"üåÖ",label:"Hopeful",key:"hopeful"},{emoji:"üòü",label:"Afraid",key:"afraid"},
  {emoji:"‚òÆÔ∏è",label:"Peaceful",key:"peaceful"},{emoji:"üò†",label:"Angry",key:"angry"},
  {emoji:"üíî",label:"Heartbroken",key:"heartbroken"},{emoji:"üîç",label:"Seeking Guidance",key:"seeking guidance"}
];

const DHIKR_LIST = [
  {arabic:"ÿ≥Ÿèÿ®Ÿíÿ≠ŸéÿßŸÜŸé ÿßŸÑŸÑŸéŸëŸáŸê",tr:"SubhanAllah",meaning:"Glory be to Allah",count:33,reward:"Plants a tree in Jannah"},
  {arabic:"ÿßŸÑŸíÿ≠ŸéŸÖŸíÿØŸè ŸÑŸêŸÑŸéŸëŸáŸê",tr:"Alhamdulillah",meaning:"All praise be to Allah",count:33,reward:"Fills the scales of good deeds"},
  {arabic:"ÿßŸÑŸÑŸéŸëŸáŸè ÿ£ŸéŸÉŸíÿ®Ÿéÿ±Ÿè",tr:"Allahu Akbar",meaning:"Allah is the Greatest",count:33,reward:"Beloved to Allah"},
  {arabic:"ŸÑŸéÿß ÿ•ŸêŸÑŸéŸáŸé ÿ•ŸêŸÑŸéŸëÿß ÿßŸÑŸÑŸéŸëŸáŸè",tr:"La ilaha illallah",meaning:"No god but Allah",count:100,reward:"Best of all dhikr"},
  {arabic:"ÿ£Ÿéÿ≥Ÿíÿ™Ÿéÿ∫ŸíŸÅŸêÿ±Ÿè ÿßŸÑŸÑŸéŸëŸáŸé",tr:"Astaghfirullah",meaning:"I seek forgiveness",count:100,reward:"Opens doors of mercy"},
  {arabic:"ŸÑŸéÿß ÿ≠ŸéŸàŸíŸÑŸé ŸàŸéŸÑŸéÿß ŸÇŸèŸàŸéŸëÿ©Ÿé ÿ•ŸêŸÑŸéŸëÿß ÿ®ŸêÿßŸÑŸÑŸéŸëŸáŸê",tr:"La hawla wala quwwata",meaning:"No power except Allah",count:100,reward:"Treasure of Jannah"},
];

const NAMES = [
  {n:1,ar:"ÿßŸÑÿ±ŸéŸëÿ≠ŸíŸÖŸéŸÜŸè",tr:"Ar-Rahman",en:"The Most Gracious",b:"Recite for mercy and compassion in life."},
  {n:2,ar:"ÿßŸÑÿ±ŸéŸëÿ≠ŸêŸäŸÖŸè",tr:"Ar-Raheem",en:"The Most Merciful",b:"Recite for forgiveness and endless mercy."},
  {n:3,ar:"ÿßŸÑŸíŸÖŸéŸÑŸêŸÉŸè",tr:"Al-Malik",en:"The King",b:"Recite for authority and leadership."},
  {n:4,ar:"ÿßŸÑŸíŸÇŸèÿØŸèŸëŸàÿ≥Ÿè",tr:"Al-Quddus",en:"The Most Holy",b:"Recite to purify your heart and soul."},
  {n:5,ar:"ÿßŸÑÿ≥ŸéŸëŸÑÿßŸéŸÖŸè",tr:"As-Salam",en:"The Source of Peace",b:"Recite for inner peace and safety."},
  {n:6,ar:"ÿßŸÑŸíŸÖŸèÿ§ŸíŸÖŸêŸÜŸè",tr:"Al-Mu'min",en:"The Guardian of Faith",b:"Recite for protection and security."},
  {n:7,ar:"ÿßŸÑŸíŸÖŸèŸáŸéŸäŸíŸÖŸêŸÜŸè",tr:"Al-Muhaymin",en:"The Protector",b:"Recite for divine protection."},
  {n:8,ar:"ÿßŸÑŸíÿπŸéÿ≤ŸêŸäÿ≤Ÿè",tr:"Al-Aziz",en:"The Almighty",b:"Recite for strength and dignity."},
  {n:9,ar:"ÿßŸÑŸíÿ¨Ÿéÿ®ŸéŸëÿßÿ±Ÿè",tr:"Al-Jabbar",en:"The Compeller",b:"Recite to mend what is broken."},
  {n:10,ar:"ÿßŸÑŸíŸÖŸèÿ™ŸéŸÉŸéÿ®ŸêŸëÿ±Ÿè",tr:"Al-Mutakabbir",en:"The Supreme",b:"Recite for greatness and honor."},
  {n:11,ar:"ÿßŸÑŸíÿÆŸéÿßŸÑŸêŸÇŸè",tr:"Al-Khaliq",en:"The Creator",b:"Recite when seeking new beginnings."},
  {n:12,ar:"ÿßŸÑŸíÿ®Ÿéÿßÿ±Ÿêÿ¶Ÿè",tr:"Al-Bari",en:"The Originator",b:"Recite for relief from illness."},
  {n:13,ar:"ÿßŸÑŸíŸÖŸèÿµŸéŸàŸêŸëÿ±Ÿè",tr:"Al-Musawwir",en:"The Fashioner",b:"Recite for beauty and creativity."},
  {n:14,ar:"ÿßŸÑŸíÿ∫ŸéŸÅŸéŸëÿßÿ±Ÿè",tr:"Al-Ghaffar",en:"The Forgiving",b:"Recite abundantly for forgiveness."},
  {n:15,ar:"ÿßŸÑŸíŸÇŸéŸáŸéŸëÿßÿ±Ÿè",tr:"Al-Qahhar",en:"The Subduer",b:"Recite to overcome difficulties."},
  {n:16,ar:"ÿßŸÑŸíŸàŸéŸáŸéŸëÿßÿ®Ÿè",tr:"Al-Wahhab",en:"The Bestower",b:"Recite for gifts and blessings."},
  {n:17,ar:"ÿßŸÑÿ±ŸéŸëÿ≤ŸéŸëÿßŸÇŸè",tr:"Ar-Razzaq",en:"The Provider",b:"Recite for sustenance and rizq."},
  {n:18,ar:"ÿßŸÑŸíŸÅŸéÿ™ŸéŸëÿßÿ≠Ÿè",tr:"Al-Fattah",en:"The Opener",b:"Recite when doors seem closed."},
  {n:19,ar:"ÿßŸéŸÑŸíÿπŸéŸÑŸêŸäŸÖŸè",tr:"Al-Alim",en:"The All-Knowing",b:"Recite for knowledge and wisdom."},
  {n:20,ar:"ÿßŸÑŸÑŸéŸëÿ∑ŸêŸäŸÅŸè",tr:"Al-Latif",en:"The Subtle",b:"Recite for hidden blessings."},
  {n:21,ar:"ÿßŸÑŸíÿ≠ŸéŸÉŸêŸäŸÖŸè",tr:"Al-Hakim",en:"The Wise",b:"Recite for wisdom in decisions."},
  {n:22,ar:"ÿßŸÑŸíŸàŸéÿØŸèŸàÿØŸè",tr:"Al-Wadud",en:"The Loving",b:"Recite for love and harmony."},
  {n:23,ar:"ÿßŸÑÿ¥ŸéŸëŸÉŸèŸàÿ±Ÿè",tr:"Ash-Shakur",en:"The Appreciative",b:"Recite to increase blessings."},
  {n:24,ar:"ÿßŸÑÿµŸéŸëŸÖŸéÿØŸè",tr:"As-Samad",en:"The Eternal",b:"Recite when only Allah can help."},
  {n:25,ar:"ÿßŸÑŸÜŸèŸëŸàÿ±Ÿè",tr:"An-Nur",en:"The Light",b:"Recite for guidance and enlightenment."},
  {n:26,ar:"ÿßŸÑŸíŸáŸéÿßÿØŸêŸä",tr:"Al-Hadi",en:"The Guide",b:"Recite when you feel lost."},
  {n:27,ar:"ÿßŸÑÿ™ŸéŸëŸàŸéŸëÿßÿ®Ÿè",tr:"At-Tawwab",en:"The Acceptor of Repentance",b:"Recite abundantly when making tawbah."},
  {n:28,ar:"ÿßŸÑÿπŸéŸÅŸèŸàŸèŸë",tr:"Al-Afuww",en:"The Pardoner",b:"Recite in Laylatul Qadr for pardon."},
  {n:29,ar:"ÿßŸÑŸíÿ≠ŸéŸäŸèŸë",tr:"Al-Hayy",en:"The Ever-Living",b:"Recite for life, energy and health."},
  {n:30,ar:"ÿßŸÑŸíŸÇŸéŸäŸèŸëŸàŸÖŸè",tr:"Al-Qayyum",en:"The Self-Subsisting",b:"Recite for complete reliance on Allah."},
  {n:31,ar:"ÿßŸÑŸíÿ∫ŸéŸÜŸêŸäŸèŸë",tr:"Al-Ghani",en:"The Self-Sufficient",b:"Recite to remove dependency on others."},
  {n:32,ar:"ÿßŸÑŸíŸÖŸèÿ∫ŸíŸÜŸêŸä",tr:"Al-Mughni",en:"The Enricher",b:"Recite for wealth and freedom from poverty."},
  {n:33,ar:"ÿßŸÑÿµŸéŸëÿ®ŸèŸàÿ±Ÿè",tr:"As-Sabur",en:"The Patient",b:"Recite for patience during hardship."},
];

// ‚îÄ‚îÄ‚îÄ Storage Helpers ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
const store = {
  get: k => { try { return JSON.parse(localStorage.getItem(k)); } catch { return null; } },
  set: (k,v) => localStorage.setItem(k, JSON.stringify(v)),
  getBookmarks: () => JSON.parse(localStorage.getItem('noor_bm') || '[]'),
  addBookmark: a => {
    const bm = store.getBookmarks();
    if (bm.find(b => b.surah_number===a.surah_number && b.ayat_number===a.ayat_number)) return false;
    bm.unshift({...a, saved_at: new Date().toISOString()});
    localStorage.setItem('noor_bm', JSON.stringify(bm)); return true;
  },
  removeBookmark: (s,a) => localStorage.setItem('noor_bm', JSON.stringify(store.getBookmarks().filter(b => !(b.surah_number===s && b.ayat_number===a)))),
  isBM: (s,a) => store.getBookmarks().some(b => b.surah_number===s && b.ayat_number===a),
  getHistory: () => JSON.parse(localStorage.getItem('noor_hist') || '[]'),
  addHistory: q => {
    const h = store.getHistory().filter(x=>x!==q).slice(0,7);
    localStorage.setItem('noor_hist', JSON.stringify([q,...h]));
  }
};

// ‚îÄ‚îÄ‚îÄ API ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
async function claude(system, msg) {
  if (!navigator.onLine) throw new Error('You are offline. Please connect to internet.');
  const r = await fetch('https://api.anthropic.com/v1/messages', {
    method:'POST', headers:{'Content-Type':'application/json'},
    body: JSON.stringify({model:'claude-sonnet-4-20250514', max_tokens:4000, system, messages:[{role:'user',content:msg}]})
  });
  const d = await r.json();
  if (d.error) throw new Error(d.error.message);
  return d.content.map(c=>c.text||'').join('');
}

function parseJ(raw, type='array') {
  const t = raw.replace(/`{3}json|`{3}/g,'').trim();
  const [o,c] = type==='array' ? ['[',']'] : ['{','}'];
  const s=t.indexOf(o), e=t.lastIndexOf(c);
  return JSON.parse(s!==-1&&e>s ? t.slice(s,e+1) : t);
}

// ‚îÄ‚îÄ‚îÄ Share Card ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
function shareCard(ayat) {
  const cv = document.createElement('canvas');
  cv.width=1080; cv.height=1080;
  const ctx = cv.getContext('2d');
  const bg = ctx.createLinearGradient(0,0,1080,1080);
  bg.addColorStop(0,'#0a2020'); bg.addColorStop(1,'#0d3535');
  ctx.fillStyle=bg; ctx.fillRect(0,0,1080,1080);
  ctx.strokeStyle='rgba(201,168,76,0.4)'; ctx.lineWidth=8; ctx.strokeRect(30,30,1020,1020);
  ctx.font='72px serif'; ctx.textAlign='center'; ctx.fillText('üåô',540,150);
  ctx.fillStyle='#e8c97a'; ctx.font='italic 50px Georgia'; ctx.fillText('Noor ‚Äî ŸÜŸàÿ±',540,220);
  ctx.strokeStyle='rgba(201,168,76,0.3)'; ctx.lineWidth=1;
  ctx.beginPath(); ctx.moveTo(150,250); ctx.lineTo(930,250); ctx.stroke();
  ctx.fillStyle='rgba(201,168,76,0.65)'; ctx.font='26px sans-serif';
  ctx.fillText(`${ayat.surah_name} ${ayat.surah_number}:${ayat.ayat_number}`,540,300);
  ctx.fillStyle='#fdf6e3'; ctx.font='38px serif';
  const words=ayat.arabic.split(' '); let ln='',y=400,lines=[];
  for(let w of words){const t=ln+w+' ';if(ctx.measureText(t).width>900&&ln){lines.push(ln.trim());ln=w+' ';}else ln=t;}
  lines.push(ln.trim()); lines.forEach(l=>{ctx.fillText(l,540,y);y+=56;});
  ctx.strokeStyle='rgba(201,168,76,0.2)'; ctx.beginPath(); ctx.moveTo(150,y+20); ctx.lineTo(930,y+20); ctx.stroke();
  ctx.fillStyle='rgba(253,246,227,0.7)'; ctx.font='27px sans-serif';
  const ew=ayat.english.split(' '); let el='',ey=y+72,els=[];
  for(let w of ew){const t=el+w+' ';if(ctx.measureText(t).width>880&&el){els.push(el.trim());el=w+' ';}else el=t;}
  els.push(el.trim()); els.forEach(l=>{ctx.fillText(l,540,ey);ey+=40;});
  ctx.fillStyle='rgba(201,168,76,0.35)'; ctx.font='20px sans-serif';
  ctx.fillText('Noor App ‚Äî AI Quranic Guidance',540,980);
  return cv.toDataURL('image/png');
}

// ‚îÄ‚îÄ‚îÄ State ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
const state = {
  tab: 'home', onboarded: !!localStorage.getItem('noor_onboarded'),
  home: { query:'', emotion:'', loading:false, results:null, error:'', showDaily:false, daily:null, dailyLoading:true, showHistory:false },
  hadith: { query:'', loading:false, results:null, error:'' },
  names: { search:'', selected:null },
  prayer: { input:'', loading:false, times:null, city:'', error:'', now:new Date() },
  dhikr: { selectedIdx:0, count:0, sessions: JSON.parse(localStorage.getItem('noor_dhikr')||'{}') },
  bookmarks: { list: store.getBookmarks() }
};

// ‚îÄ‚îÄ‚îÄ Render Engine ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
function render() {
  const app = document.getElementById('app');
  if (!state.onboarded) { app.innerHTML = renderOnboarding(); bindOnboarding(); return; }
  app.innerHTML = `
    <div style="background:linear-gradient(160deg,#0a2020,#0d3535 60%,#0a2828);min-height:100vh;padding-bottom:70px;">
      ${renderHeader()}
      <div style="max-width:800px;margin:0 auto;padding:16px 14px 0;">
        ${renderTab()}
      </div>
      ${renderNav()}
      ${renderDailyModal()}
    </div>
  `;
  bindEvents();
}

function renderOnboarding() {
  const slides = [
    {icon:'üåô',title:'Welcome to Noor',arabic:'ŸÜŸàÿ±',desc:'Your personal AI-powered Islamic companion. Guidance from the Quran and Sunnah, tailored to your heart.'},
    {icon:'üîç',title:'Search by Emotion',arabic:'ÿßŸÑÿ®ÿ≠ÿ´ ÿ®ÿßŸÑŸÖÿ¥ÿßÿπÿ±',desc:'Feeling sad, anxious, or lost? Select your emotion and Noor finds the perfect Ayat for your soul.'},
    {icon:'üìú',title:'Hadith & 99 Names',arabic:'ÿßŸÑÿ£ÿ≥ŸÖÿßÿ° ÿßŸÑÿ≠ÿ≥ŸÜŸâ',desc:'Search authentic Hadith, explore the 99 Beautiful Names of Allah, and track your daily Dhikr.'},
    {icon:'üïå',title:'Complete Islamic App',arabic:'ÿ™ÿ∑ÿ®ŸäŸÇ ÿ•ÿ≥ŸÑÿßŸÖŸä ŸÖÿ™ŸÉÿßŸÖŸÑ',desc:'Prayer times, Dhikr counter, bookmarks, audio recitation & beautiful shareable Ayat cards.'},
  ];
  const s = state.onboardStep || 0;
  const sl = slides[s];
  return `<div style="background:linear-gradient(160deg,#071818,#0d3535);min-height:100vh;display:flex;flex-direction:column;align-items:center;justify-content:center;padding:32px 24px;">
    <div style="text-align:center;max-width:360px;animation:slideUp 0.4s ease both;">
      <div style="font-size:4.5rem;margin-bottom:14px;filter:drop-shadow(0 0 24px rgba(201,168,76,0.7));">${sl.icon}</div>
      <div style="font-family:Georgia,serif;font-size:1.7rem;color:#e8c97a;font-style:italic;margin-bottom:4px;">${sl.title}</div>
      <div style="font-family:serif;font-size:1.2rem;color:rgba(201,168,76,0.45);margin-bottom:22px;">${sl.arabic}</div>
      <div style="font-family:sans-serif;font-size:0.97rem;color:rgba(253,246,227,0.65);line-height:1.75;margin-bottom:36px;">${sl.desc}</div>
      <div style="display:flex;justify-content:center;gap:8px;margin-bottom:32px;">
        ${slides.map((_,i)=>`<div style="width:${i===s?24:8}px;height:8px;border-radius:4px;background:${i===s?'#c9a84c':'rgba(201,168,76,0.25)'};transition:all 0.3s;"></div>`).join('')}
      </div>
      ${s < slides.length-1
        ? `<button onclick="nextOnboard()" style="width:100%;background:linear-gradient(135deg,#c9a84c,#a8722a);border:none;border-radius:14px;padding:15px;color:#1a1208;font-family:sans-serif;font-weight:800;font-size:1rem;cursor:pointer;">Next ‚Üí</button>
           ${s>0?`<button onclick="prevOnboard()" style="background:none;border:none;color:rgba(201,168,76,0.4);font-family:sans-serif;font-size:0.85rem;cursor:pointer;margin-top:12px;">‚Üê Back</button>`:''}
           <div><button onclick="finishOnboard()" style="background:none;border:none;color:rgba(253,246,227,0.2);font-family:sans-serif;font-size:0.78rem;cursor:pointer;margin-top:8px;">Skip</button></div>`
        : `<button onclick="finishOnboard()" style="width:100%;background:linear-gradient(135deg,#c9a84c,#a8722a);border:none;border-radius:14px;padding:15px;color:#1a1208;font-family:sans-serif;font-weight:800;font-size:1rem;cursor:pointer;">üåô Begin Your Journey</button>
           <button onclick="prevOnboard()" style="background:none;border:none;color:rgba(201,168,76,0.4);font-family:sans-serif;font-size:0.85rem;cursor:pointer;margin-top:12px;">‚Üê Back</button>`
      }
    </div>
  </div>`;
}

function bindOnboarding() {
  window.nextOnboard = () => { state.onboardStep = (state.onboardStep||0)+1; render(); };
  window.prevOnboard = () => { state.onboardStep = Math.max(0,(state.onboardStep||0)-1); render(); };
  window.finishOnboard = () => { localStorage.setItem('noor_onboarded','1'); state.onboarded=true; render(); };
}

function renderHeader() {
  return `<div class="header" style="text-align:center;padding:22px 18px 14px;border-bottom:1px solid rgba(201,168,76,0.1);background:rgba(10,24,24,0.7);backdrop-filter:blur(10px);position:sticky;top:0;z-index:100;">
    <div style="display:flex;align-items:center;justify-content:center;gap:10px;">
      <span style="font-size:1.6rem;filter:drop-shadow(0 0 12px rgba(201,168,76,0.7));">üåô</span>
      <span style="font-size:1.8rem;color:#e8c97a;letter-spacing:4px;font-style:italic;">Noor</span>
      <span style="font-family:serif;font-size:1.3rem;color:rgba(201,168,76,0.45);">ŸÜŸàÿ±</span>
    </div>
    <div style="font-size:0.6rem;color:rgba(253,246,227,0.25);letter-spacing:3px;text-transform:uppercase;font-family:sans-serif;margin-top:2px;">AI-Powered Quranic Guidance</div>
  </div>`;
}

function renderNav() {
  const tabs = [{id:'home',icon:'üè†',label:'Home'},{id:'hadith',icon:'üìú',label:'Hadith'},{id:'names',icon:'‚ú®',label:'Names'},{id:'prayer',icon:'üïå',label:'Prayer'},{id:'dhikr',icon:'üìø',label:'Dhikr'},{id:'bookmarks',icon:'üîñ',label:'Saved'}];
  return `<div class="bottom-nav" style="position:fixed;bottom:0;left:0;right:0;background:rgba(7,24,24,0.97);border-top:1px solid rgba(201,168,76,0.18);backdrop-filter:blur(14px);display:flex;justify-content:space-around;padding:8px 0;z-index:100;">
    ${tabs.map(t=>`<button onclick="switchTab('${t.id}')" style="background:none;border:none;cursor:pointer;display:flex;flex-direction:column;align-items:center;gap:2px;padding:3px 6px;min-width:46px;">
      <span style="font-size:1.2rem;filter:${state.tab===t.id?'drop-shadow(0 0 8px rgba(201,168,76,0.8))':'none'};transition:all 0.2s;">${t.icon}</span>
      <span style="font-size:0.58rem;font-family:sans-serif;color:${state.tab===t.id?'#e8c97a':'rgba(253,246,227,0.28)'};font-weight:${state.tab===t.id?700:400};">${t.label}</span>
      ${state.tab===t.id?'<div style="width:4px;height:4px;border-radius:50%;background:#c9a84c;"></div>':'<div style="width:4px;height:4px;"></div>'}
    </button>`).join('')}
  </div>`;
}

function renderTab() {
  switch(state.tab) {
    case 'home': return renderHome();
    case 'hadith': return renderHadith();
    case 'names': return renderNames();
    case 'prayer': return renderPrayer();
    case 'dhikr': return renderDhikr();
    case 'bookmarks': return renderBookmarks();
    default: return renderHome();
  }
}

// ‚îÄ‚îÄ‚îÄ HOME ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
function renderHome() {
  const h = state.home;
  return `
    <!-- Floating Daily Button -->
    <div style="position:fixed;bottom:80px;right:16px;z-index:200;display:flex;flex-direction:column;align-items:center;">
      <button onclick="openDaily()" style="width:52px;height:52px;border-radius:50%;background:linear-gradient(135deg,#c9a84c,#a8722a);border:2px solid rgba(201,168,76,0.5);box-shadow:0 4px 20px rgba(201,168,76,0.55);cursor:pointer;font-size:1.3rem;display:flex;align-items:center;justify-content:center;animation:floatPulse 2.5s ease-in-out infinite;">üåÖ</button>
      <div style="font-size:0.5rem;color:rgba(201,168,76,0.6);font-family:sans-serif;margin-top:3px;">Daily</div>
    </div>

    <!-- Search Card -->
    <div style="background:rgba(255,255,255,0.04);border:1px solid rgba(201,168,76,0.22);border-radius:18px;padding:20px;margin-bottom:18px;">
      <div style="font-size:0.68rem;text-transform:uppercase;letter-spacing:2.5px;color:#c9a84c;font-weight:700;font-family:sans-serif;margin-bottom:14px;">üîç Find Ayat by Emotion or Topic</div>
      <div style="display:flex;flex-wrap:wrap;gap:7px;margin-bottom:16px;justify-content:center;">
        ${EMOTIONS.map(e=>`<button onclick="toggleEmotion('${e.key}')" style="background:${h.emotion===e.key?'rgba(201,168,76,0.22)':'rgba(201,168,76,0.07)'};border:1.5px solid ${h.emotion===e.key?'#c9a84c':'rgba(201,168,76,0.18)'};color:${h.emotion===e.key?'#e8c97a':'rgba(253,246,227,0.7)'};padding:6px 12px;border-radius:50px;cursor:pointer;font-size:0.78rem;font-family:sans-serif;transition:all 0.2s;">${e.emoji} ${e.label}</button>`).join('')}
      </div>
      <textarea id="searchInput" rows="2" placeholder="Type what you're going through‚Ä¶" style="width:100%;background:rgba(255,255,255,0.06);border:1.5px solid rgba(201,168,76,0.28);border-radius:12px;padding:11px 14px;color:#fdf6e3;font-family:sans-serif;font-size:0.93rem;resize:none;outline:none;display:block;">${h.query}</textarea>
      ${h.showHistory && store.getHistory().length>0 ? `
      <div style="background:#0d2828;border:1px solid rgba(201,168,76,0.22);border-radius:10px;margin-top:4px;overflow:hidden;">
        <div style="font-size:0.6rem;text-transform:uppercase;letter-spacing:2px;color:rgba(201,168,76,0.4);padding:7px 13px 3px;font-family:sans-serif;">Recent</div>
        ${store.getHistory().map((item,idx)=>`<div onclick="useHistoryIdx(${idx})" style="padding:9px 13px;font-size:0.85rem;color:rgba(253,246,227,0.65);font-family:sans-serif;cursor:pointer;border-top:1px solid rgba(201,168,76,0.08);">üïê ${item}</div>`).join('')}
      </div>` : ''}
      <button onclick="doSearch()" ${(!h.query.trim()&&!h.emotion)||h.loading?'disabled':''} style="margin-top:10px;width:100%;background:${(!h.query.trim()&&!h.emotion)||h.loading?'rgba(201,168,76,0.22)':'linear-gradient(135deg,#c9a84c,#a8722a)'};border:none;border-radius:12px;padding:13px;color:#1a1208;font-family:sans-serif;font-size:0.9rem;font-weight:800;cursor:pointer;opacity:${(!h.query.trim()&&!h.emotion)||h.loading?0.55:1};">
        ${h.loading?'‚è≥ Searching the Quran‚Ä¶':'‚ú® Find Ayat'}
      </button>
    </div>

    ${h.loading?`<div style="text-align:center;padding:44px 20px;">
      <div style="width:46px;height:46px;border:3px solid rgba(201,168,76,0.15);border-top:3px solid #c9a84c;border-radius:50%;animation:spin 1s linear infinite;margin:0 auto 14px;"></div>
      <div style="color:rgba(253,246,227,0.4);font-family:sans-serif;font-size:0.85rem;">Searching the Holy Quran‚Ä¶</div>
      <div style="font-family:serif;font-size:1.3rem;color:rgba(201,168,76,0.35);margin-top:6px;">ÿ≥Ÿèÿ®Ÿíÿ≠ŸéÿßŸÜŸé ÿßŸÑŸÑŸéŸëŸáŸê</div>
    </div>`:''}

    ${h.error?`<div style="background:rgba(180,50,50,0.12);border:1px solid rgba(180,50,50,0.3);border-radius:12px;padding:14px 18px;color:rgba(255,180,180,0.85);font-size:0.88rem;text-align:center;font-family:sans-serif;">‚ö†Ô∏è ${h.error}</div>`:''}

    ${!h.loading&&h.results?`
      <div style="display:flex;align-items:center;gap:10px;margin-bottom:14px;font-size:0.66rem;text-transform:uppercase;letter-spacing:2px;color:rgba(201,168,76,0.48);font-family:sans-serif;">
        <div style="flex:1;height:1px;background:rgba(201,168,76,0.15);"></div>
        ${h.emotion&&h.query?`Feeling ${h.emotion} ¬∑ "${h.query}"`:h.emotion?`Feeling ${h.emotion}`:`"${h.query}"`}
        <div style="flex:1;height:1px;background:rgba(201,168,76,0.15);"></div>
      </div>
      ${renderAdBanner()}
      ${h.results.map(a=>renderAyatCard(a)).join('')}
    `:''}

    ${!h.loading&&!h.results&&!h.error?`<div style="text-align:center;padding:40px 20px;color:rgba(253,246,227,0.25);font-family:sans-serif;">
      <div style="font-size:2.8rem;margin-bottom:12px;">üìñ</div>
      <div style="font-size:0.92rem;">Select an emotion or type a topic above</div>
      <div style="font-family:serif;font-size:1.4rem;color:rgba(201,168,76,0.22);margin-top:10px;">ÿßŸêŸÇŸíÿ±Ÿéÿ£Ÿí ÿ®Ÿêÿßÿ≥ŸíŸÖŸê ÿ±Ÿéÿ®ŸêŸëŸÉŸé</div>
    </div>`:''}
  `;
}

function renderDailyModal() {
  if (!state.home.showDaily) return '';
  const h = state.home;
  return `<div onclick="closeDaily()" style="position:fixed;inset:0;background:rgba(5,18,18,0.9);z-index:300;display:flex;align-items:center;justify-content:center;padding:16px;backdrop-filter:blur(8px);">
    <div onclick="event.stopPropagation()" style="background:linear-gradient(160deg,#0d2828,#0a3535);border:1px solid rgba(201,168,76,0.38);border-radius:22px;padding:20px;max-width:580px;width:100%;max-height:85vh;overflow-y:auto;">
      <div style="display:flex;justify-content:space-between;align-items:center;margin-bottom:16px;">
        <div style="font-size:0.68rem;text-transform:uppercase;letter-spacing:2.5px;color:#c9a84c;font-weight:700;font-family:sans-serif;">üåÖ Today's Ayat</div>
        <button onclick="closeDaily()" style="background:rgba(201,168,76,0.1);border:1px solid rgba(201,168,76,0.2);border-radius:8px;padding:4px 12px;color:rgba(201,168,76,0.6);cursor:pointer;font-family:sans-serif;font-size:0.78rem;">‚úï Close</button>
      </div>
      ${h.dailyLoading?`<div style="text-align:center;padding:30px;font-family:sans-serif;color:rgba(253,246,227,0.38);">
        <div style="width:36px;height:36px;border:3px solid rgba(201,168,76,0.15);border-top:3px solid #c9a84c;border-radius:50%;animation:spin 1s linear infinite;margin:0 auto 12px;"></div>Loading‚Ä¶</div>`
        :h.daily?renderAyatCard(h.daily):`<div style="color:rgba(253,246,227,0.3);text-align:center;padding:20px;font-family:sans-serif;">Could not load daily ayat.</div>`}
    </div>
  </div>`;
}

function renderAyatCard(a) {
  const bm = store.isBM(a.surah_number, a.ayat_number);
  return `<div class="fade-up" style="background:rgba(255,255,255,0.04);border:1px solid rgba(201,168,76,0.2);border-radius:18px;overflow:hidden;margin-bottom:16px;">
    <div style="background:linear-gradient(135deg,rgba(201,168,76,0.14),rgba(201,168,76,0.04));border-bottom:1px solid rgba(201,168,76,0.15);padding:12px 18px;display:flex;justify-content:space-between;align-items:center;flex-wrap:wrap;gap:6px;">
      <div style="font-size:0.83rem;color:#e8c97a;font-weight:600;font-family:sans-serif;">
        <span style="font-family:serif;font-size:1rem;">${a.surah_arabic||''}</span> ¬∑ ${a.surah_name} ${a.surah_number}:${a.ayat_number}
      </div>
      <div style="display:flex;gap:5px;">
        <button onclick="playAudio(${a.surah_number},${a.ayat_number},this)" style="background:rgba(201,168,76,0.1);border:1px solid rgba(201,168,76,0.25);border-radius:7px;padding:4px 10px;color:rgba(201,168,76,0.7);cursor:pointer;font-size:0.74rem;font-family:sans-serif;">‚ñ∂ Play</button>
        <button onclick="toggleBM(${JSON.stringify(a).replace(/"/g,'&quot;')})" id="bm_${a.surah_number}_${a.ayat_number}" style="background:${bm?'rgba(201,168,76,0.25)':'rgba(201,168,76,0.08)'};border:1px solid rgba(201,168,76,0.25);border-radius:7px;padding:4px 10px;color:${bm?'#e8c97a':'rgba(201,168,76,0.6)'};cursor:pointer;font-size:0.74rem;font-family:sans-serif;">${bm?'üîñ Saved':'üîñ Save'}</button>
        <button onclick="shareAyat(${JSON.stringify(a).replace(/"/g,'&quot;')})" style="background:rgba(201,168,76,0.08);border:1px solid rgba(201,168,76,0.25);border-radius:7px;padding:4px 10px;color:rgba(201,168,76,0.6);cursor:pointer;font-size:0.74rem;font-family:sans-serif;">üì§</button>
      </div>
    </div>
    <div style="font-family:serif;font-size:1.7rem;line-height:2;text-align:right;direction:rtl;color:#fdf6e3;padding:20px 18px 12px;border-bottom:1px solid rgba(201,168,76,0.13);background:rgba(201,168,76,0.02);">
      ${a.arabic}
      <div style="font-size:0.7rem;direction:ltr;text-align:left;margin-top:6px;color:rgba(201,168,76,0.38);font-family:sans-serif;">[${a.surah_name} ${a.surah_number}:${a.ayat_number}]</div>
    </div>
    <div style="padding:16px 18px;display:grid;gap:13px;">
      <div style="display:flex;gap:10px;align-items:flex-start;">
        <div style="min-width:32px;height:32px;background:rgba(201,168,76,0.1);border:1px solid rgba(201,168,76,0.2);border-radius:8px;display:flex;align-items:center;justify-content:center;font-size:0.6rem;font-weight:800;color:#c9a84c;font-family:sans-serif;">UR</div>
        <div style="flex:1;">
          <div style="font-size:0.6rem;text-transform:uppercase;letter-spacing:2px;color:rgba(201,168,76,0.48);margin-bottom:3px;font-weight:700;font-family:sans-serif;">ÿßÿ±ÿØŸà ÿ™ÿ±ÿ¨ŸÖ€Å</div>
          <div style="direction:rtl;text-align:right;font-family:serif;font-size:1rem;line-height:2;color:rgba(253,246,227,0.82);">${a.urdu}</div>
        </div>
      </div>
      <div style="display:flex;gap:10px;align-items:flex-start;">
        <div style="min-width:32px;height:32px;background:rgba(201,168,76,0.1);border:1px solid rgba(201,168,76,0.2);border-radius:8px;display:flex;align-items:center;justify-content:center;font-size:0.6rem;font-weight:800;color:#c9a84c;font-family:sans-serif;">EN</div>
        <div style="flex:1;">
          <div style="font-size:0.6rem;text-transform:uppercase;letter-spacing:2px;color:rgba(201,168,76,0.48);margin-bottom:3px;font-weight:700;font-family:sans-serif;">English</div>
          <div style="font-family:sans-serif;font-size:0.93rem;line-height:1.7;color:rgba(253,246,227,0.82);">${a.english}</div>
        </div>
      </div>
    </div>
    ${a.tafseer?`<div style="background:rgba(10,32,32,0.45);border-top:1px solid rgba(201,168,76,0.13);padding:16px 18px;">
      <div style="font-size:0.62rem;text-transform:uppercase;letter-spacing:2px;color:#c9a84c;font-weight:700;font-family:sans-serif;margin-bottom:8px;">Tafseer & Reflection</div>
      <div style="font-size:0.88rem;line-height:1.78;color:rgba(253,246,227,0.6);font-family:sans-serif;">${a.tafseer}</div>
      ${a.relevance?`<div style="margin-top:10px;padding:9px 13px;background:rgba(201,168,76,0.07);border-radius:8px;border-left:3px solid #c9a84c;font-size:0.82rem;color:rgba(201,168,76,0.78);font-style:italic;font-family:sans-serif;">${a.relevance}</div>`:''}
    </div>`:''}
  </div>`;
}

function renderAdBanner() {
  const ads = [
    {title:'üìö Islamic Books Store',desc:'Authentic books. 10% off with code NOOR',cta:'Shop Now',bg:'#1a3a2a'},
    {title:'‚úàÔ∏è Umrah 2025',desc:'All-inclusive packages from Pakistan',cta:'Get Quote',bg:'#1a2a4a'},
    {title:'üéì Learn Quran Online',desc:'1-on-1 certified teachers. First class FREE!',cta:'Start Free',bg:'#2a1a3a'},
  ];
  const ad = ads[Math.floor(Math.random()*ads.length)];
  return `<div style="background:${ad.bg};border:1px solid rgba(201,168,76,0.18);border-radius:13px;padding:12px 15px;margin-bottom:16px;display:flex;justify-content:space-between;align-items:center;gap:10px;flex-wrap:wrap;">
    <div style="flex:1;">
      <div style="font-size:0.58rem;text-transform:uppercase;letter-spacing:2px;color:rgba(201,168,76,0.42);font-family:sans-serif;margin-bottom:2px;">Sponsored ¬∑ Halal Ad</div>
      <div style="font-size:0.88rem;font-weight:700;color:#e8c97a;font-family:sans-serif;margin-bottom:2px;">${ad.title}</div>
      <div style="font-size:0.74rem;color:rgba(253,246,227,0.5);font-family:sans-serif;">${ad.desc}</div>
    </div>
    <button style="background:linear-gradient(135deg,#c9a84c,#a8722a);border:none;border-radius:8px;padding:8px 14px;color:#1a1208;font-weight:800;font-size:0.78rem;cursor:pointer;font-family:sans-serif;white-space:nowrap;">${ad.cta} ‚Üí</button>
  </div>`;
}

// ‚îÄ‚îÄ‚îÄ HADITH ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
function renderHadith() {
  const h = state.hadith;
  return `<div>
    <div style="background:rgba(255,255,255,0.04);border:1px solid rgba(201,168,76,0.22);border-radius:18px;padding:20px;margin-bottom:18px;">
      <div style="font-size:0.68rem;text-transform:uppercase;letter-spacing:2.5px;color:#c9a84c;font-weight:700;font-family:sans-serif;margin-bottom:14px;">üìú Hadith Search</div>
      <div style="display:flex;gap:10px;">
        <input id="hadithInput" value="${h.query}" placeholder="Search Hadith‚Ä¶ e.g. 'kindness', 'prayer'" style="flex:1;background:rgba(255,255,255,0.06);border:1.5px solid rgba(201,168,76,0.28);border-radius:12px;padding:11px 14px;color:#fdf6e3;font-family:sans-serif;font-size:0.92rem;outline:none;">
        <button onclick="doHadith()" ${h.loading||!h.query.trim()?'disabled':''} style="background:${!h.loading&&h.query.trim()?'linear-gradient(135deg,#c9a84c,#a8722a)':'rgba(201,168,76,0.22)'};border:none;border-radius:12px;padding:11px 16px;color:#1a1208;font-family:sans-serif;font-weight:800;font-size:0.86rem;cursor:pointer;opacity:${!h.loading&&h.query.trim()?1:0.55};">${h.loading?'‚è≥':'üîç'}</button>
      </div>
    </div>
    ${h.loading?`<div style="text-align:center;padding:40px;color:rgba(253,246,227,0.38);font-family:sans-serif;">Searching hadith collections‚Ä¶</div>`:''}
    ${h.error?`<div style="background:rgba(180,50,50,0.1);border:1px solid rgba(180,50,50,0.3);border-radius:12px;padding:14px;color:rgba(255,180,180,0.8);text-align:center;font-family:sans-serif;">‚ö†Ô∏è ${h.error}</div>`:''}
    ${!h.loading&&h.results?h.results.map(r=>`
      <div style="background:rgba(255,255,255,0.04);border:1px solid rgba(201,168,76,0.2);border-radius:18px;overflow:hidden;margin-bottom:16px;">
        <div style="background:linear-gradient(135deg,rgba(201,168,76,0.14),rgba(201,168,76,0.04));border-bottom:1px solid rgba(201,168,76,0.15);padding:12px 18px;display:flex;justify-content:space-between;align-items:center;flex-wrap:wrap;gap:6px;">
          <div style="font-family:sans-serif;font-size:0.83rem;color:#e8c97a;font-weight:600;"><span style="font-family:serif;">${r.book_arabic||''}</span> ¬∑ ${r.book} #${r.hadith_number}</div>
          <div style="background:rgba(50,180,80,0.14);border:1px solid rgba(50,180,80,0.28);border-radius:50px;padding:3px 10px;font-size:0.65rem;color:#6fdf8f;font-family:sans-serif;font-weight:700;">${r.grade}</div>
        </div>
        <div style="font-family:serif;font-size:1.5rem;line-height:1.9;text-align:right;direction:rtl;color:#fdf6e3;padding:18px 18px 12px;border-bottom:1px solid rgba(201,168,76,0.12);background:rgba(201,168,76,0.02);">${r.arabic}</div>
        <div style="padding:15px 18px;display:grid;gap:12px;">
          <div><div style="font-size:0.6rem;text-transform:uppercase;letter-spacing:2px;color:rgba(201,168,76,0.48);margin-bottom:3px;font-family:sans-serif;font-weight:700;">ÿßÿ±ÿØŸà ÿ™ÿ±ÿ¨ŸÖ€Å</div><div style="direction:rtl;text-align:right;font-family:serif;font-size:0.97rem;line-height:2;color:rgba(253,246,227,0.82);">${r.urdu}</div></div>
          <div><div style="font-size:0.6rem;text-transform:uppercase;letter-spacing:2px;color:rgba(201,168,76,0.48);margin-bottom:3px;font-family:sans-serif;font-weight:700;">English</div><div style="font-family:sans-serif;font-size:0.92rem;line-height:1.7;color:rgba(253,246,227,0.82);">${r.english}</div></div>
        </div>
        <div style="background:rgba(10,32,32,0.45);border-top:1px solid rgba(201,168,76,0.12);padding:14px 18px;">
          <div style="font-size:0.6rem;text-transform:uppercase;letter-spacing:2px;color:#c9a84c;font-weight:700;font-family:sans-serif;margin-bottom:6px;">Explanation</div>
          <div style="font-size:0.86rem;line-height:1.75;color:rgba(253,246,227,0.6);font-family:sans-serif;">${r.explanation}</div>
        </div>
      </div>`).join(''):''}
    ${!h.loading&&!h.results&&!h.error?`<div style="text-align:center;padding:40px 20px;color:rgba(253,246,227,0.25);font-family:sans-serif;"><div style="font-size:2.5rem;margin-bottom:12px;">üìú</div><div>Search Hadith from Bukhari, Muslim & more</div></div>`:''}
    ${renderAdBanner()}
  </div>`;
}

// ‚îÄ‚îÄ‚îÄ 99 NAMES ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
function renderNames() {
  const n = state.names;
  const filtered = NAMES.filter(x=>x.tr.toLowerCase().includes(n.search.toLowerCase())||x.en.toLowerCase().includes(n.search.toLowerCase())||x.ar.includes(n.search));
  return `<div>
    <div style="background:rgba(255,255,255,0.04);border:1px solid rgba(201,168,76,0.22);border-radius:18px;padding:20px;margin-bottom:16px;">
      <div style="font-size:0.68rem;text-transform:uppercase;letter-spacing:2.5px;color:#c9a84c;font-weight:700;font-family:sans-serif;margin-bottom:14px;">‚ú® 99 Names of Allah</div>
      <input id="namesSearch" value="${n.search}" placeholder="Search by name or meaning‚Ä¶" style="width:100%;background:rgba(255,255,255,0.06);border:1.5px solid rgba(201,168,76,0.28);border-radius:12px;padding:11px 14px;color:#fdf6e3;font-family:sans-serif;font-size:0.92rem;outline:none;box-sizing:border-box;">
    </div>
    ${n.selected?`<div style="background:rgba(201,168,76,0.07);border:1px solid #c9a84c;border-radius:18px;padding:24px;margin-bottom:16px;text-align:center;">
      <div style="font-family:serif;font-size:3.2rem;color:#e8c97a;margin-bottom:8px;">${n.selected.ar}</div>
      <div style="font-size:1.25rem;color:#e8c97a;font-family:sans-serif;font-weight:700;">${n.selected.tr}</div>
      <div style="font-size:0.9rem;color:rgba(253,246,227,0.6);font-family:sans-serif;margin-top:4px;">${n.selected.en}</div>
      <div style="font-size:0.83rem;color:rgba(201,168,76,0.72);font-family:sans-serif;margin-top:14px;font-style:italic;line-height:1.65;padding:0 8px;">${n.selected.b}</div>
      <button onclick="clearName()" style="margin-top:14px;background:rgba(201,168,76,0.1);border:1px solid rgba(201,168,76,0.2);border-radius:8px;padding:6px 16px;color:#c9a84c;cursor:pointer;font-family:sans-serif;font-size:0.8rem;">‚úï Close</button>
    </div>`:''}
    <div style="display:grid;grid-template-columns:repeat(auto-fill,minmax(130px,1fr));gap:8px;margin-bottom:20px;">
      ${filtered.map(x=>`<div onclick="selectName(${x.n})" style="background:rgba(255,255,255,0.04);border:1px solid rgba(201,168,76,0.15);border-radius:13px;padding:12px 10px;text-align:center;cursor:pointer;">
        <div style="font-size:0.58rem;color:rgba(201,168,76,0.38);font-family:sans-serif;margin-bottom:2px;">${x.n}</div>
        <div style="font-family:serif;font-size:1.3rem;color:#e8c97a;margin-bottom:4px;">${x.ar}</div>
        <div style="font-size:0.67rem;color:#c9a84c;font-family:sans-serif;font-weight:600;">${x.tr}</div>
        <div style="font-size:0.61rem;color:rgba(253,246,227,0.42);font-family:sans-serif;margin-top:2px;">${x.en}</div>
      </div>`).join('')}
    </div>
  </div>`;
}

// ‚îÄ‚îÄ‚îÄ PRAYER ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
function renderPrayer() {
  const p = state.prayer;
  const icons = {Fajr:'üåÑ',Sunrise:'üåÖ',Dhuhr:'‚òÄÔ∏è',Asr:'üå§Ô∏è',Maghrib:'üåá',Isha:'üåô'};
  const nowMins = p.now.getHours()*60+p.now.getMinutes();
  const next = p.times ? Object.entries(p.times).find(([,t])=>{const[h,m]=t.split(':').map(Number);return h*60+m>nowMins;})?.[0]||'Fajr' : null;
  return `<div>
    <div style="background:rgba(255,255,255,0.04);border:1px solid rgba(201,168,76,0.22);border-radius:18px;padding:20px;margin-bottom:16px;">
      <div style="font-size:0.68rem;text-transform:uppercase;letter-spacing:2.5px;color:#c9a84c;font-weight:700;font-family:sans-serif;margin-bottom:14px;">üïå Prayer Times</div>
      <div style="text-align:center;margin-bottom:16px;">
        <div style="font-family:sans-serif;font-size:1.9rem;font-weight:700;color:#e8c97a;">${p.now.toLocaleTimeString('en-US',{hour:'2-digit',minute:'2-digit',second:'2-digit'})}</div>
        <div style="color:rgba(253,246,227,0.38);font-size:0.78rem;font-family:sans-serif;margin-top:2px;">${p.now.toLocaleDateString('en-US',{weekday:'long',month:'long',day:'numeric'})}</div>
      </div>
      <div style="display:flex;gap:10px;">
        <input id="cityInput" value="${p.input}" placeholder="Enter city‚Ä¶ e.g. Karachi, Lahore" style="flex:1;background:rgba(255,255,255,0.06);border:1.5px solid rgba(201,168,76,0.28);border-radius:12px;padding:11px 14px;color:#fdf6e3;font-family:sans-serif;font-size:0.92rem;outline:none;">
        <button onclick="fetchPrayer()" ${p.loading||!p.input.trim()?'disabled':''} style="background:${!p.loading&&p.input.trim()?'linear-gradient(135deg,#c9a84c,#a8722a)':'rgba(201,168,76,0.22)'};border:none;border-radius:12px;padding:11px 14px;color:#1a1208;font-family:sans-serif;font-weight:800;font-size:0.82rem;cursor:pointer;opacity:${!p.loading&&p.input.trim()?1:0.55};white-space:nowrap;">${p.loading?'‚è≥':'Get Times'}</button>
      </div>
      ${p.error?`<div style="color:rgba(255,180,180,0.75);font-size:0.8rem;font-family:sans-serif;margin-top:8px;">‚ö†Ô∏è ${p.error}</div>`:''}
    </div>
    ${p.times?`<div style="background:rgba(255,255,255,0.04);border:1px solid rgba(201,168,76,0.2);border-radius:18px;padding:18px;margin-bottom:16px;">
      <div style="text-align:center;margin-bottom:14px;color:#e8c97a;font-family:sans-serif;font-weight:600;">üìç ${p.city}</div>
      ${next?`<div style="text-align:center;margin-bottom:14px;background:rgba(201,168,76,0.08);border-radius:11px;padding:11px;border:1px solid rgba(201,168,76,0.18);">
        <div style="font-size:0.6rem;color:rgba(201,168,76,0.5);font-family:sans-serif;margin-bottom:3px;text-transform:uppercase;letter-spacing:2px;">Next Prayer</div>
        <div style="font-size:1.1rem;color:#e8c97a;font-family:sans-serif;font-weight:700;">${icons[next]} ${next} ‚Äî ${p.times[next]}</div>
      </div>`:''}
      <div style="display:grid;gap:7px;">
        ${Object.entries(p.times).map(([name,time])=>`<div style="display:flex;justify-content:space-between;align-items:center;padding:10px 14px;background:${next===name?'rgba(201,168,76,0.12)':'rgba(255,255,255,0.03)'};border-radius:10px;border:1px solid ${next===name?'#c9a84c':'rgba(201,168,76,0.1)'};">
          <div style="font-family:sans-serif;font-size:0.92rem;color:${next===name?'#e8c97a':'rgba(253,246,227,0.7)'};">${icons[name]} ${name}</div>
          <div style="font-family:sans-serif;font-weight:700;font-size:0.95rem;color:${next===name?'#e8c97a':'rgba(253,246,227,0.75)'};">${time}</div>
        </div>`).join('')}
      </div>
    </div>`:`<div style="text-align:center;padding:40px 20px;color:rgba(253,246,227,0.25);font-family:sans-serif;"><div style="font-size:2.5rem;margin-bottom:12px;">üïå</div><div>Enter your city for prayer times</div></div>`}
  </div>`;
}

// ‚îÄ‚îÄ‚îÄ DHIKR ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
function renderDhikr() {
  const d = state.dhikr;
  const sel = DHIKR_LIST[d.selectedIdx];
  const pct = Math.min((d.count/sel.count)*100,100);
  const r = 62, circ = 2*Math.PI*r;
  const today = new Date().toDateString();
  return `<div>
    <div style="background:rgba(255,255,255,0.04);border:1px solid rgba(201,168,76,0.22);border-radius:18px;padding:18px;margin-bottom:16px;">
      <div style="font-size:0.68rem;text-transform:uppercase;letter-spacing:2.5px;color:#c9a84c;font-weight:700;font-family:sans-serif;margin-bottom:14px;">üìø Choose Dhikr</div>
      <div style="display:grid;gap:7px;">
        ${DHIKR_LIST.map((dk,i)=>`<button onclick="selectDhikr(${i})" style="background:${d.selectedIdx===i?'rgba(201,168,76,0.18)':'rgba(255,255,255,0.03)'};border:1.5px solid ${d.selectedIdx===i?'#c9a84c':'rgba(201,168,76,0.13)'};border-radius:11px;padding:9px 13px;cursor:pointer;text-align:left;display:flex;justify-content:space-between;align-items:center;">
          <div>
            <div style="font-family:serif;font-size:1.05rem;color:${d.selectedIdx===i?'#e8c97a':'rgba(253,246,227,0.78)'};">${dk.arabic}</div>
            <div style="font-size:0.7rem;color:rgba(201,168,76,0.55);font-family:sans-serif;margin-top:2px;">${dk.tr}</div>
          </div>
          <div style="font-size:0.68rem;color:rgba(201,168,76,0.45);font-family:sans-serif;">√ó${dk.count}</div>
        </button>`).join('')}
      </div>
    </div>
    <div style="background:rgba(201,168,76,0.05);border:1px solid rgba(201,168,76,0.32);border-radius:18px;padding:22px;text-align:center;">
      <div style="font-family:serif;font-size:1.9rem;color:#e8c97a;margin-bottom:4px;">${sel.arabic}</div>
      <div style="font-size:0.82rem;color:rgba(201,168,76,0.6);font-family:sans-serif;margin-bottom:20px;">${sel.meaning}</div>
      <div style="position:relative;width:150px;height:150px;margin:0 auto 20px;">
        <svg width="150" height="150" style="transform:rotate(-90deg);">
          <circle cx="75" cy="75" r="${r}" fill="none" stroke="rgba(201,168,76,0.12)" stroke-width="9"/>
          <circle cx="75" cy="75" r="${r}" fill="none" stroke="#c9a84c" stroke-width="9" stroke-linecap="round"
            stroke-dasharray="${circ}" stroke-dashoffset="${circ*(1-pct/100)}" style="transition:stroke-dashoffset 0.3s ease;"/>
        </svg>
        <div style="position:absolute;inset:0;display:flex;flex-direction:column;align-items:center;justify-content:center;">
          <div style="font-size:2.6rem;font-weight:800;color:#e8c97a;font-family:sans-serif;line-height:1;">${d.count}</div>
          <div style="font-size:0.68rem;color:rgba(201,168,76,0.45);font-family:sans-serif;margin-top:3px;">of ${sel.count}</div>
        </div>
      </div>
      <button onclick="tapDhikr()" style="width:120px;height:120px;border-radius:50%;background:linear-gradient(135deg,#c9a84c,#8a5e20);border:4px solid rgba(201,168,76,0.4);box-shadow:0 8px 28px rgba(201,168,76,0.35);cursor:pointer;font-size:1.9rem;display:flex;align-items:center;justify-content:center;margin:0 auto 16px;" onmousedown="this.style.transform='scale(0.93)'" onmouseup="this.style.transform='scale(1)'" ontouchstart="this.style.transform='scale(0.93)'" ontouchend="this.style.transform='scale(1)'">üìø</button>
      <div style="font-size:0.78rem;color:rgba(201,168,76,0.58);font-family:sans-serif;font-style:italic;margin-bottom:14px;">${sel.reward}</div>
      <button onclick="resetDhikr()" style="background:rgba(255,255,255,0.05);border:1px solid rgba(201,168,76,0.18);border-radius:8px;padding:6px 18px;color:rgba(253,246,227,0.4);cursor:pointer;font-family:sans-serif;font-size:0.8rem;">‚Ü∫ Reset</button>
      <div style="margin-top:18px;border-top:1px solid rgba(201,168,76,0.13);padding-top:14px;">
        <div style="font-size:0.62rem;text-transform:uppercase;letter-spacing:2px;color:rgba(201,168,76,0.4);font-family:sans-serif;margin-bottom:8px;">Today's Total</div>
        <div style="display:flex;justify-content:center;gap:14px;flex-wrap:wrap;">
          ${DHIKR_LIST.map(dk=>{const n=d.sessions[`${today}_${dk.tr}`]||0;return n>0?`<div style="text-align:center;"><div style="font-size:0.72rem;color:#c9a84c;font-family:sans-serif;font-weight:700;">${n}</div><div style="font-size:0.58rem;color:rgba(253,246,227,0.35);font-family:sans-serif;">${dk.tr}</div></div>`:''}).join('')}
        </div>
      </div>
    </div>
  </div>`;
}

// ‚îÄ‚îÄ‚îÄ BOOKMARKS ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
function renderBookmarks() {
  const bm = store.getBookmarks();
  if (!bm.length) return `<div style="text-align:center;padding:60px 20px;color:rgba(253,246,227,0.25);font-family:sans-serif;">
    <div style="font-size:3rem;margin-bottom:14px;">üîñ</div>
    <div>No saved Ayat yet</div>
    <div style="font-size:0.8rem;margin-top:8px;color:rgba(253,246,227,0.16);">Tap üîñ Save on any Ayat</div>
  </div>`;
  return `<div>
    <div style="font-size:0.68rem;text-transform:uppercase;letter-spacing:2.5px;color:#c9a84c;font-weight:700;font-family:sans-serif;margin-bottom:16px;">üîñ Saved Ayat (${bm.length})</div>
    ${bm.map(a=>`${renderAyatCard(a)}<button onclick="removeBM(${a.surah_number},${a.ayat_number})" style="display:block;margin:-8px auto 16px;background:rgba(180,50,50,0.13);border:1px solid rgba(180,50,50,0.25);border-radius:8px;padding:5px 13px;color:rgba(255,140,140,0.65);cursor:pointer;font-family:sans-serif;font-size:0.76rem;">üóë Remove</button>`).join('')}
  </div>`;
}

// ‚îÄ‚îÄ‚îÄ Event Handlers ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
function bindEvents() {
  // Search input live
  const si = document.getElementById('searchInput');
  if (si) {
    si.addEventListener('input', e => { state.home.query=e.target.value; state.home.showHistory=e.target.value.length===0&&store.getHistory().length>0; render(); setTimeout(()=>document.getElementById('searchInput')?.focus(),10); });
    si.addEventListener('focus', () => { if(!state.home.query) { state.home.showHistory=store.getHistory().length>0; if(state.home.showHistory) render(); }});
    si.addEventListener('keydown', e => { if(e.key==='Enter'&&!e.shiftKey){e.preventDefault();doSearch();} });
    si.setSelectionRange(si.value.length,si.value.length);
  }
  const hi = document.getElementById('hadithInput');
  if (hi) { hi.addEventListener('input',e=>{state.hadith.query=e.target.value;}); hi.addEventListener('keydown',e=>{if(e.key==='Enter')doHadith();}); }
  const ci = document.getElementById('cityInput');
  if (ci) { ci.addEventListener('input',e=>{state.prayer.input=e.target.value;}); ci.addEventListener('keydown',e=>{if(e.key==='Enter')fetchPrayer();}); }
  const ns = document.getElementById('namesSearch');
  if (ns) { ns.addEventListener('input',e=>{state.names.search=e.target.value;render();setTimeout(()=>{document.getElementById('namesSearch')?.focus();},10);}); }
}

// ‚îÄ‚îÄ‚îÄ Actions ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
window.useHistoryIdx = i => { const h=store.getHistory()[i]; if(h){state.home.query=h;state.home.showHistory=false;doSearch();} };
window.switchTab = t => { state.tab=t; render(); window.scrollTo(0,0); };
window.toggleEmotion = k => { state.home.emotion=state.home.emotion===k?'':k; render(); };
window.openDaily = () => { state.home.showDaily=true; render(); loadDaily(); };
window.closeDaily = () => { state.home.showDaily=false; render(); };
window.useHistory = q => { state.home.query=q; state.home.showHistory=false; doSearch(); };
window.selectName = n => { state.names.selected=NAMES.find(x=>x.n===n); render(); window.scrollTo(0,0); };
window.clearName = () => { state.names.selected=null; render(); };
window.selectDhikr = i => { state.dhikr.selectedIdx=i; state.dhikr.count=0; render(); };
window.resetDhikr = () => { state.dhikr.count=0; render(); };
window.removeBM = (s,a) => { store.removeBookmark(s,a); render(); };

window.tapDhikr = () => {
  const d = state.dhikr;
  const sel = DHIKR_LIST[d.selectedIdx];
  d.count++;
  if (d.count===sel.count) setTimeout(()=>alert(`MashaAllah! üéâ ${sel.count} ${sel.tr} completed!

${sel.reward}`),100);
  const today=new Date().toDateString();
  const key=`${today}_${sel.tr}`;
  d.sessions[key]=(d.sessions[key]||0)+1;
  localStorage.setItem('noor_dhikr',JSON.stringify(d.sessions));
  render();
};

window.toggleBM = a => {
  if (store.isBM(a.surah_number,a.ayat_number)) { store.removeBookmark(a.surah_number,a.ayat_number); }
  else { store.addBookmark(a); }
  render();
};

window.shareAyat = a => {
  const url = shareCard(a);
  const link = document.createElement('a');
  link.href=url; link.download=`noor-${a.surah_number}-${a.ayat_number}.png`; link.click();
};

let currentAudio = null;
window.playAudio = (surah,ayat,btn) => {
  if (currentAudio) { currentAudio.pause(); currentAudio=null; document.querySelectorAll('.audio-btn').forEach(b=>b.textContent='‚ñ∂ Play'); }
  const url=`https://cdn.islamic.network/quran/audio/128/ar.alafasy/${String(surah).padStart(3,'0')}${String(ayat).padStart(3,'0')}.mp3`;
  currentAudio=new Audio(url);
  btn.textContent='‚èπ Stop'; btn.classList.add('audio-btn');
  currentAudio.onended=()=>{btn.textContent='‚ñ∂ Play';currentAudio=null;};
  currentAudio.onerror=()=>{btn.textContent='‚ñ∂ Play';currentAudio=null;};
  currentAudio.play();
};

async function doSearch() {
  const h = state.home;
  if (!h.query.trim()&&!h.emotion) return;
  h.loading=true; h.error=''; h.results=null; h.showHistory=false;
  if (h.query.trim()) store.addHistory(h.query.trim());
  render();
  try {
    const prompt = h.emotion&&h.query.trim()?`Find Quranic Ayat for someone feeling ${h.emotion} and asking: "${h.query}"`
      :h.emotion?`Find comforting Quranic Ayat for someone feeling ${h.emotion}`
      :`Find Quranic Ayat about: "${h.query}"`;
    const raw = await claude(`You are Noor. Return ONLY a raw JSON array, no markdown. Exactly 2 ayat with keys: surah_name, surah_arabic, surah_number, ayat_number, arabic, urdu, english, tafseer, relevance. Concise.`, prompt);
    const t=raw.replace(/`{3}json|`{3}/g,'').trim();
    const s=t.indexOf('['),e=t.lastIndexOf(']');
    h.results=JSON.parse(s!==-1&&e>s?t.slice(s,e+1):t);
  } catch(err) { h.error=err.message||'Something went wrong.'; }
  h.loading=false; render();
}

async function doHadith() {
  const h = state.hadith;
  if (!h.query.trim()) return;
  h.loading=true; h.error=''; h.results=null; render();
  try {
    const raw = await claude(`Return ONLY a raw JSON array, no markdown. Exactly 2 hadith with keys: narrator, book, book_arabic, hadith_number, arabic, english, urdu, explanation, grade. Concise.`, `Find Hadith about: "${h.query}"`);
    const t=raw.replace(/`{3}json|`{3}/g,'').trim();
    const s=t.indexOf('['),e=t.lastIndexOf(']');
    h.results=JSON.parse(s!==-1&&e>s?t.slice(s,e+1):t);
  } catch(err) { h.error=err.message; }
  h.loading=false; render();
}

async function fetchPrayer() {
  const p = state.prayer;
  if (!p.input.trim()) return;
  p.loading=true; p.error=''; render();
  try {
    const d=new Date();
    const res=await fetch(`https://api.aladhan.com/v1/timingsByCity?city=${encodeURIComponent(p.input)}&country=PK&method=1&date=${d.getDate()}-${d.getMonth()+1}-${d.getFullYear()}`);
    const data=await res.json();
    if(data.code!==200) throw new Error('City not found');
    const t=data.data.timings;
    p.times={Fajr:t.Fajr,Sunrise:t.Sunrise,Dhuhr:t.Dhuhr,Asr:t.Asr,Maghrib:t.Maghrib,Isha:t.Isha};
    p.city=p.input;
  } catch { p.error='City not found. Try another name.'; }
  p.loading=false; render();
}

async function loadDaily() {
  const h = state.home;
  const today=new Date().toDateString();
  const cached=store.get('noor_daily');
  if(cached&&cached.date===today){h.daily=cached.ayat;h.dailyLoading=false;render();return;}
  h.dailyLoading=true; render();
  try {
    const raw=await claude(`Return ONLY a raw JSON object, no markdown, with keys: surah_name, surah_arabic, surah_number, ayat_number, arabic, urdu, english, tafseer. Pick an uplifting ayat.`,"Give me today's daily Quran ayat.");
    const t=raw.replace(/`{3}json|`{3}/g,'').trim();
    const s=t.indexOf('{'),e=t.lastIndexOf('}');
    const ayat=JSON.parse(s!==-1&&e>s?t.slice(s,e+1):t);
    store.set('noor_daily',{date:today,ayat});
    h.daily=ayat;
  } catch { h.daily=null; }
  h.dailyLoading=false; render();
}

// Clock update
setInterval(()=>{state.prayer.now=new Date();if(state.tab==='prayer')render();},1000);

// Init
render();
</script>
</body>
</html>
